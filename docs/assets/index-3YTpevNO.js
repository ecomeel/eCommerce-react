function t1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function n1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qm={exports:{}},Qa={},Gm={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bs=Symbol.for("react.element"),r1=Symbol.for("react.portal"),i1=Symbol.for("react.fragment"),s1=Symbol.for("react.strict_mode"),o1=Symbol.for("react.profiler"),a1=Symbol.for("react.provider"),l1=Symbol.for("react.context"),u1=Symbol.for("react.forward_ref"),c1=Symbol.for("react.suspense"),h1=Symbol.for("react.memo"),f1=Symbol.for("react.lazy"),pd=Symbol.iterator;function d1(e){return e===null||typeof e!="object"?null:(e=pd&&e[pd]||e["@@iterator"],typeof e=="function"?e:null)}var Xm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ym=Object.assign,Jm={};function ci(e,t,n){this.props=e,this.context=t,this.refs=Jm,this.updater=n||Xm}ci.prototype.isReactComponent={};ci.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ci.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zm(){}Zm.prototype=ci.prototype;function wh(e,t,n){this.props=e,this.context=t,this.refs=Jm,this.updater=n||Xm}var Th=wh.prototype=new Zm;Th.constructor=wh;Ym(Th,ci.prototype);Th.isPureReactComponent=!0;var md=Array.isArray,eg=Object.prototype.hasOwnProperty,Sh={current:null},tg={key:!0,ref:!0,__self:!0,__source:!0};function ng(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)eg.call(t,r)&&!tg.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Bs,type:e,key:s,ref:o,props:i,_owner:Sh.current}}function p1(e,t){return{$$typeof:Bs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ch(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bs}function m1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gd=/\/+/g;function Kl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?m1(""+e.key):t.toString(36)}function Bo(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Bs:case r1:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Kl(o,0):r,md(i)?(n="",e!=null&&(n=e.replace(gd,"$&/")+"/"),Bo(i,t,n,"",function(u){return u})):i!=null&&(Ch(i)&&(i=p1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gd,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",md(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Kl(s,a);o+=Bo(s,t,n,l,i)}else if(l=d1(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Kl(s,a++),o+=Bo(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ho(e,t,n){if(e==null)return e;var r=[],i=0;return Bo(e,r,"","",function(s){return t.call(n,s,i++)}),r}function g1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},Ho={transition:null},y1={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:Ho,ReactCurrentOwner:Sh};B.Children={map:ho,forEach:function(e,t,n){ho(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ho(e,function(){t++}),t},toArray:function(e){return ho(e,function(t){return t})||[]},only:function(e){if(!Ch(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=ci;B.Fragment=i1;B.Profiler=o1;B.PureComponent=wh;B.StrictMode=s1;B.Suspense=c1;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y1;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ym({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Sh.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)eg.call(t,l)&&!tg.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Bs,type:e.type,key:i,ref:s,props:r,_owner:o}};B.createContext=function(e){return e={$$typeof:l1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:a1,_context:e},e.Consumer=e};B.createElement=ng;B.createFactory=function(e){var t=ng.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:u1,render:e}};B.isValidElement=Ch;B.lazy=function(e){return{$$typeof:f1,_payload:{_status:-1,_result:e},_init:g1}};B.memo=function(e,t){return{$$typeof:h1,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=Ho.transition;Ho.transition={};try{e()}finally{Ho.transition=t}};B.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};B.useCallback=function(e,t){return Qe.current.useCallback(e,t)};B.useContext=function(e){return Qe.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};B.useEffect=function(e,t){return Qe.current.useEffect(e,t)};B.useId=function(){return Qe.current.useId()};B.useImperativeHandle=function(e,t,n){return Qe.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Qe.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Qe.current.useReducer(e,t,n)};B.useRef=function(e){return Qe.current.useRef(e)};B.useState=function(e){return Qe.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Qe.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Qe.current.useTransition()};B.version="18.2.0";Gm.exports=B;var I=Gm.exports;const Ft=n1(I),Uu=t1({__proto__:null,default:Ft},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1=I,_1=Symbol.for("react.element"),E1=Symbol.for("react.fragment"),w1=Object.prototype.hasOwnProperty,T1=v1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S1={key:!0,ref:!0,__self:!0,__source:!0};function rg(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)w1.call(t,r)&&!S1.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:_1,type:e,key:s,ref:o,props:i,_owner:T1.current}}Qa.Fragment=E1;Qa.jsx=rg;Qa.jsxs=rg;Qm.exports=Qa;var w=Qm.exports,zu={},ig={exports:{}},ct={},sg={exports:{}},og={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,$){var z=N.length;N.push($);e:for(;0<z;){var ce=z-1>>>1,Ee=N[ce];if(0<i(Ee,$))N[ce]=$,N[z]=Ee,z=ce;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var $=N[0],z=N.pop();if(z!==$){N[0]=z;e:for(var ce=0,Ee=N.length,uo=Ee>>>1;ce<uo;){var Un=2*(ce+1)-1,ql=N[Un],zn=Un+1,co=N[zn];if(0>i(ql,z))zn<Ee&&0>i(co,ql)?(N[ce]=co,N[zn]=z,ce=zn):(N[ce]=ql,N[Un]=z,ce=Un);else if(zn<Ee&&0>i(co,z))N[ce]=co,N[zn]=z,ce=zn;else break e}}return $}function i(N,$){var z=N.sortIndex-$.sortIndex;return z!==0?z:N.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,g=!1,y=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(N){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=N)r(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(u)}}function E(N){if(_=!1,m(N),!y)if(n(l)!==null)y=!0,bl(C);else{var $=n(u);$!==null&&Wl(E,$.startTime-N)}}function C(N,$){y=!1,_&&(_=!1,p(V),V=-1),g=!0;var z=f;try{for(m($),h=n(l);h!==null&&(!(h.expirationTime>$)||N&&!_t());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,f=h.priorityLevel;var Ee=ce(h.expirationTime<=$);$=e.unstable_now(),typeof Ee=="function"?h.callback=Ee:h===n(l)&&r(l),m($)}else r(l);h=n(l)}if(h!==null)var uo=!0;else{var Un=n(u);Un!==null&&Wl(E,Un.startTime-$),uo=!1}return uo}finally{h=null,f=z,g=!1}}var R=!1,k=null,V=-1,Y=5,U=-1;function _t(){return!(e.unstable_now()-U<Y)}function Ti(){if(k!==null){var N=e.unstable_now();U=N;var $=!0;try{$=k(!0,N)}finally{$?Si():(R=!1,k=null)}}else R=!1}var Si;if(typeof d=="function")Si=function(){d(Ti)};else if(typeof MessageChannel<"u"){var dd=new MessageChannel,e1=dd.port2;dd.port1.onmessage=Ti,Si=function(){e1.postMessage(null)}}else Si=function(){v(Ti,0)};function bl(N){k=N,R||(R=!0,Si())}function Wl(N,$){V=v(function(){N(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,bl(C))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var z=f;f=$;try{return N()}finally{f=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,$){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var z=f;f=N;try{return $()}finally{f=z}},e.unstable_scheduleCallback=function(N,$,z){var ce=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ce+z:ce):z=ce,N){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=z+Ee,N={id:c++,callback:$,priorityLevel:N,startTime:z,expirationTime:Ee,sortIndex:-1},z>ce?(N.sortIndex=z,t(u,N),n(l)===null&&N===n(u)&&(_?(p(V),V=-1):_=!0,Wl(E,z-ce))):(N.sortIndex=Ee,t(l,N),y||g||(y=!0,bl(C))),N},e.unstable_shouldYield=_t,e.unstable_wrapCallback=function(N){var $=f;return function(){var z=f;f=$;try{return N.apply(this,arguments)}finally{f=z}}}})(og);sg.exports=og;var C1=sg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag=I,ot=C1;function S(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lg=new Set,is={};function pr(e,t){Qr(e,t),Qr(e+"Capture",t)}function Qr(e,t){for(is[e]=t,e=0;e<t.length;e++)lg.add(t[e])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bu=Object.prototype.hasOwnProperty,I1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yd={},vd={};function A1(e){return Bu.call(vd,e)?!0:Bu.call(yd,e)?!1:I1.test(e)?vd[e]=!0:(yd[e]=!0,!1)}function P1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R1(e,t,n,r){if(t===null||typeof t>"u"||P1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ih=/[\-:]([a-z])/g;function Ah(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ih,Ah);Ve[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ih,Ah);Ve[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ih,Ah);Ve[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ph(e,t,n,r){var i=Ve.hasOwnProperty(t)?Ve[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R1(t,n,i,r)&&(n=null),r||i===null?A1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nn=ag.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fo=Symbol.for("react.element"),Sr=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),Rh=Symbol.for("react.strict_mode"),Hu=Symbol.for("react.profiler"),ug=Symbol.for("react.provider"),cg=Symbol.for("react.context"),kh=Symbol.for("react.forward_ref"),bu=Symbol.for("react.suspense"),Wu=Symbol.for("react.suspense_list"),xh=Symbol.for("react.memo"),sn=Symbol.for("react.lazy"),hg=Symbol.for("react.offscreen"),_d=Symbol.iterator;function Ci(e){return e===null||typeof e!="object"?null:(e=_d&&e[_d]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,Ql;function Li(e){if(Ql===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ql=t&&t[1]||""}return`
`+Ql+e}var Gl=!1;function Xl(e,t){if(!e||Gl)return"";Gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Gl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Li(e):""}function k1(e){switch(e.tag){case 5:return Li(e.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 2:case 15:return e=Xl(e.type,!1),e;case 11:return e=Xl(e.type.render,!1),e;case 1:return e=Xl(e.type,!0),e;default:return""}}function qu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cr:return"Fragment";case Sr:return"Portal";case Hu:return"Profiler";case Rh:return"StrictMode";case bu:return"Suspense";case Wu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cg:return(e.displayName||"Context")+".Consumer";case ug:return(e._context.displayName||"Context")+".Provider";case kh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xh:return t=e.displayName||null,t!==null?t:qu(e.type)||"Memo";case sn:t=e._payload,e=e._init;try{return qu(e(t))}catch{}}return null}function x1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qu(t);case 8:return t===Rh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function An(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function N1(e){var t=fg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function po(e){e._valueTracker||(e._valueTracker=N1(e))}function dg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=fg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ra(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ku(e,t){var n=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ed(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=An(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pg(e,t){t=t.checked,t!=null&&Ph(e,"checked",t,!1)}function Qu(e,t){pg(e,t);var n=An(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gu(e,t.type,An(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gu(e,t,n){(t!=="number"||ra(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mi=Array.isArray;function Mr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+An(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Xu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(S(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Td(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(S(92));if(Mi(n)){if(1<n.length)throw Error(S(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:An(n)}}function mg(e,t){var n=An(t.value),r=An(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mo,yg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(mo=mo||document.createElement("div"),mo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ss(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D1=["Webkit","ms","Moz","O"];Object.keys(bi).forEach(function(e){D1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bi[t]=bi[e]})});function vg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bi.hasOwnProperty(e)&&bi[e]?(""+t).trim():t+"px"}function _g(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var V1=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ju(e,t){if(t){if(V1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(S(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(S(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(S(61))}if(t.style!=null&&typeof t.style!="object")throw Error(S(62))}}function Zu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ec=null;function Nh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tc=null,Fr=null,$r=null;function Cd(e){if(e=Ws(e)){if(typeof tc!="function")throw Error(S(280));var t=e.stateNode;t&&(t=Za(t),tc(e.stateNode,e.type,t))}}function Eg(e){Fr?$r?$r.push(e):$r=[e]:Fr=e}function wg(){if(Fr){var e=Fr,t=$r;if($r=Fr=null,Cd(e),t)for(e=0;e<t.length;e++)Cd(t[e])}}function Tg(e,t){return e(t)}function Sg(){}var Yl=!1;function Cg(e,t,n){if(Yl)return e(t,n);Yl=!0;try{return Tg(e,t,n)}finally{Yl=!1,(Fr!==null||$r!==null)&&(Sg(),wg())}}function os(e,t){var n=e.stateNode;if(n===null)return null;var r=Za(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(S(231,t,typeof n));return n}var nc=!1;if(Gt)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){nc=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{nc=!1}function O1(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Wi=!1,ia=null,sa=!1,rc=null,L1={onError:function(e){Wi=!0,ia=e}};function M1(e,t,n,r,i,s,o,a,l){Wi=!1,ia=null,O1.apply(L1,arguments)}function F1(e,t,n,r,i,s,o,a,l){if(M1.apply(this,arguments),Wi){if(Wi){var u=ia;Wi=!1,ia=null}else throw Error(S(198));sa||(sa=!0,rc=u)}}function mr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ig(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Id(e){if(mr(e)!==e)throw Error(S(188))}function $1(e){var t=e.alternate;if(!t){if(t=mr(e),t===null)throw Error(S(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Id(i),e;if(s===r)return Id(i),t;s=s.sibling}throw Error(S(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?e:t}function Ag(e){return e=$1(e),e!==null?Pg(e):null}function Pg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pg(e);if(t!==null)return t;e=e.sibling}return null}var Rg=ot.unstable_scheduleCallback,Ad=ot.unstable_cancelCallback,j1=ot.unstable_shouldYield,U1=ot.unstable_requestPaint,he=ot.unstable_now,z1=ot.unstable_getCurrentPriorityLevel,Dh=ot.unstable_ImmediatePriority,kg=ot.unstable_UserBlockingPriority,oa=ot.unstable_NormalPriority,B1=ot.unstable_LowPriority,xg=ot.unstable_IdlePriority,Ga=null,$t=null;function H1(e){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Ga,e,void 0,(e.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:q1,b1=Math.log,W1=Math.LN2;function q1(e){return e>>>=0,e===0?32:31-(b1(e)/W1|0)|0}var go=64,yo=4194304;function Fi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function aa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fi(a):(s&=o,s!==0&&(r=Fi(s)))}else o=n&~i,o!==0?r=Fi(o):s!==0&&(r=Fi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-It(t),i=1<<n,r|=e[n],t&=~i;return r}function K1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-It(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=K1(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function ic(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ng(){var e=go;return go<<=1,!(go&4194240)&&(go=64),e}function Jl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-It(t),e[t]=n}function G1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-It(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Vh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-It(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var G=0;function Dg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vg,Oh,Og,Lg,Mg,sc=!1,vo=[],pn=null,mn=null,gn=null,as=new Map,ls=new Map,an=[],X1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pd(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":as.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ls.delete(t.pointerId)}}function Ai(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ws(t),t!==null&&Oh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Y1(e,t,n,r,i){switch(t){case"focusin":return pn=Ai(pn,e,t,n,r,i),!0;case"dragenter":return mn=Ai(mn,e,t,n,r,i),!0;case"mouseover":return gn=Ai(gn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return as.set(s,Ai(as.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ls.set(s,Ai(ls.get(s)||null,e,t,n,r,i)),!0}return!1}function Fg(e){var t=Kn(e.target);if(t!==null){var n=mr(t);if(n!==null){if(t=n.tag,t===13){if(t=Ig(n),t!==null){e.blockedOn=t,Mg(e.priority,function(){Og(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=oc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ec=r,n.target.dispatchEvent(r),ec=null}else return t=Ws(n),t!==null&&Oh(t),e.blockedOn=n,!1;t.shift()}return!0}function Rd(e,t,n){bo(e)&&n.delete(t)}function J1(){sc=!1,pn!==null&&bo(pn)&&(pn=null),mn!==null&&bo(mn)&&(mn=null),gn!==null&&bo(gn)&&(gn=null),as.forEach(Rd),ls.forEach(Rd)}function Pi(e,t){e.blockedOn===t&&(e.blockedOn=null,sc||(sc=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,J1)))}function us(e){function t(i){return Pi(i,e)}if(0<vo.length){Pi(vo[0],e);for(var n=1;n<vo.length;n++){var r=vo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pn!==null&&Pi(pn,e),mn!==null&&Pi(mn,e),gn!==null&&Pi(gn,e),as.forEach(t),ls.forEach(t),n=0;n<an.length;n++)r=an[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<an.length&&(n=an[0],n.blockedOn===null);)Fg(n),n.blockedOn===null&&an.shift()}var jr=nn.ReactCurrentBatchConfig,la=!0;function Z1(e,t,n,r){var i=G,s=jr.transition;jr.transition=null;try{G=1,Lh(e,t,n,r)}finally{G=i,jr.transition=s}}function eE(e,t,n,r){var i=G,s=jr.transition;jr.transition=null;try{G=4,Lh(e,t,n,r)}finally{G=i,jr.transition=s}}function Lh(e,t,n,r){if(la){var i=oc(e,t,n,r);if(i===null)lu(e,t,r,ua,n),Pd(e,r);else if(Y1(i,e,t,n,r))r.stopPropagation();else if(Pd(e,r),t&4&&-1<X1.indexOf(e)){for(;i!==null;){var s=Ws(i);if(s!==null&&Vg(s),s=oc(e,t,n,r),s===null&&lu(e,t,r,ua,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else lu(e,t,r,null,n)}}var ua=null;function oc(e,t,n,r){if(ua=null,e=Nh(r),e=Kn(e),e!==null)if(t=mr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ig(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ua=e,null}function $g(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(z1()){case Dh:return 1;case kg:return 4;case oa:case B1:return 16;case xg:return 536870912;default:return 16}default:return 16}}var un=null,Mh=null,Wo=null;function jg(){if(Wo)return Wo;var e,t=Mh,n=t.length,r,i="value"in un?un.value:un.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Wo=i.slice(e,1<r?1-r:void 0)}function qo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _o(){return!0}function kd(){return!1}function ht(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_o:kd,this.isPropagationStopped=kd,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_o)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_o)},persist:function(){},isPersistent:_o}),t}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fh=ht(hi),bs=se({},hi,{view:0,detail:0}),tE=ht(bs),Zl,eu,Ri,Xa=se({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$h,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ri&&(Ri&&e.type==="mousemove"?(Zl=e.screenX-Ri.screenX,eu=e.screenY-Ri.screenY):eu=Zl=0,Ri=e),Zl)},movementY:function(e){return"movementY"in e?e.movementY:eu}}),xd=ht(Xa),nE=se({},Xa,{dataTransfer:0}),rE=ht(nE),iE=se({},bs,{relatedTarget:0}),tu=ht(iE),sE=se({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),oE=ht(sE),aE=se({},hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lE=ht(aE),uE=se({},hi,{data:0}),Nd=ht(uE),cE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fE[e])?!!t[e]:!1}function $h(){return dE}var pE=se({},bs,{key:function(e){if(e.key){var t=cE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$h,charCode:function(e){return e.type==="keypress"?qo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mE=ht(pE),gE=se({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dd=ht(gE),yE=se({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$h}),vE=ht(yE),_E=se({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),EE=ht(_E),wE=se({},Xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TE=ht(wE),SE=[9,13,27,32],jh=Gt&&"CompositionEvent"in window,qi=null;Gt&&"documentMode"in document&&(qi=document.documentMode);var CE=Gt&&"TextEvent"in window&&!qi,Ug=Gt&&(!jh||qi&&8<qi&&11>=qi),Vd=" ",Od=!1;function zg(e,t){switch(e){case"keyup":return SE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ir=!1;function IE(e,t){switch(e){case"compositionend":return Bg(t);case"keypress":return t.which!==32?null:(Od=!0,Vd);case"textInput":return e=t.data,e===Vd&&Od?null:e;default:return null}}function AE(e,t){if(Ir)return e==="compositionend"||!jh&&zg(e,t)?(e=jg(),Wo=Mh=un=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ug&&t.locale!=="ko"?null:t.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PE[e.type]:t==="textarea"}function Hg(e,t,n,r){Eg(r),t=ca(t,"onChange"),0<t.length&&(n=new Fh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ki=null,cs=null;function RE(e){ey(e,0)}function Ya(e){var t=Rr(e);if(dg(t))return e}function kE(e,t){if(e==="change")return t}var bg=!1;if(Gt){var nu;if(Gt){var ru="oninput"in document;if(!ru){var Md=document.createElement("div");Md.setAttribute("oninput","return;"),ru=typeof Md.oninput=="function"}nu=ru}else nu=!1;bg=nu&&(!document.documentMode||9<document.documentMode)}function Fd(){Ki&&(Ki.detachEvent("onpropertychange",Wg),cs=Ki=null)}function Wg(e){if(e.propertyName==="value"&&Ya(cs)){var t=[];Hg(t,cs,e,Nh(e)),Cg(RE,t)}}function xE(e,t,n){e==="focusin"?(Fd(),Ki=t,cs=n,Ki.attachEvent("onpropertychange",Wg)):e==="focusout"&&Fd()}function NE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ya(cs)}function DE(e,t){if(e==="click")return Ya(t)}function VE(e,t){if(e==="input"||e==="change")return Ya(t)}function OE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:OE;function hs(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bu.call(t,i)||!Rt(e[i],t[i]))return!1}return!0}function $d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jd(e,t){var n=$d(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$d(n)}}function qg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kg(){for(var e=window,t=ra();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ra(e.document)}return t}function Uh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function LE(e){var t=Kg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qg(n.ownerDocument.documentElement,n)){if(r!==null&&Uh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=jd(n,s);var o=jd(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ME=Gt&&"documentMode"in document&&11>=document.documentMode,Ar=null,ac=null,Qi=null,lc=!1;function Ud(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lc||Ar==null||Ar!==ra(r)||(r=Ar,"selectionStart"in r&&Uh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qi&&hs(Qi,r)||(Qi=r,r=ca(ac,"onSelect"),0<r.length&&(t=new Fh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ar)))}function Eo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pr={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionend:Eo("Transition","TransitionEnd")},iu={},Qg={};Gt&&(Qg=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Ja(e){if(iu[e])return iu[e];if(!Pr[e])return e;var t=Pr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qg)return iu[e]=t[n];return e}var Gg=Ja("animationend"),Xg=Ja("animationiteration"),Yg=Ja("animationstart"),Jg=Ja("transitionend"),Zg=new Map,zd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(e,t){Zg.set(e,t),pr(t,[e])}for(var su=0;su<zd.length;su++){var ou=zd[su],FE=ou.toLowerCase(),$E=ou[0].toUpperCase()+ou.slice(1);Vn(FE,"on"+$E)}Vn(Gg,"onAnimationEnd");Vn(Xg,"onAnimationIteration");Vn(Yg,"onAnimationStart");Vn("dblclick","onDoubleClick");Vn("focusin","onFocus");Vn("focusout","onBlur");Vn(Jg,"onTransitionEnd");Qr("onMouseEnter",["mouseout","mouseover"]);Qr("onMouseLeave",["mouseout","mouseover"]);Qr("onPointerEnter",["pointerout","pointerover"]);Qr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jE=new Set("cancel close invalid load scroll toggle".split(" ").concat($i));function Bd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,F1(r,t,void 0,e),e.currentTarget=null}function ey(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Bd(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Bd(i,a,u),s=l}}}if(sa)throw e=rc,sa=!1,rc=null,e}function Z(e,t){var n=t[dc];n===void 0&&(n=t[dc]=new Set);var r=e+"__bubble";n.has(r)||(ty(t,e,2,!1),n.add(r))}function au(e,t,n){var r=0;t&&(r|=4),ty(n,e,r,t)}var wo="_reactListening"+Math.random().toString(36).slice(2);function fs(e){if(!e[wo]){e[wo]=!0,lg.forEach(function(n){n!=="selectionchange"&&(jE.has(n)||au(n,!1,e),au(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wo]||(t[wo]=!0,au("selectionchange",!1,t))}}function ty(e,t,n,r){switch($g(t)){case 1:var i=Z1;break;case 4:i=eE;break;default:i=Lh}n=i.bind(null,t,n,e),i=void 0,!nc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function lu(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Kn(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Cg(function(){var u=s,c=Nh(n),h=[];e:{var f=Zg.get(e);if(f!==void 0){var g=Fh,y=e;switch(e){case"keypress":if(qo(n)===0)break e;case"keydown":case"keyup":g=mE;break;case"focusin":y="focus",g=tu;break;case"focusout":y="blur",g=tu;break;case"beforeblur":case"afterblur":g=tu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=rE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=vE;break;case Gg:case Xg:case Yg:g=oE;break;case Jg:g=EE;break;case"scroll":g=tE;break;case"wheel":g=TE;break;case"copy":case"cut":case"paste":g=lE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Dd}var _=(t&4)!==0,v=!_&&e==="scroll",p=_?f!==null?f+"Capture":null:f;_=[];for(var d=u,m;d!==null;){m=d;var E=m.stateNode;if(m.tag===5&&E!==null&&(m=E,p!==null&&(E=os(d,p),E!=null&&_.push(ds(d,E,m)))),v)break;d=d.return}0<_.length&&(f=new g(f,y,null,n,c),h.push({event:f,listeners:_}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==ec&&(y=n.relatedTarget||n.fromElement)&&(Kn(y)||y[Xt]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?Kn(y):null,y!==null&&(v=mr(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(_=xd,E="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(_=Dd,E="onPointerLeave",p="onPointerEnter",d="pointer"),v=g==null?f:Rr(g),m=y==null?f:Rr(y),f=new _(E,d+"leave",g,n,c),f.target=v,f.relatedTarget=m,E=null,Kn(c)===u&&(_=new _(p,d+"enter",y,n,c),_.target=m,_.relatedTarget=v,E=_),v=E,g&&y)t:{for(_=g,p=y,d=0,m=_;m;m=vr(m))d++;for(m=0,E=p;E;E=vr(E))m++;for(;0<d-m;)_=vr(_),d--;for(;0<m-d;)p=vr(p),m--;for(;d--;){if(_===p||p!==null&&_===p.alternate)break t;_=vr(_),p=vr(p)}_=null}else _=null;g!==null&&Hd(h,f,g,_,!1),y!==null&&v!==null&&Hd(h,v,y,_,!0)}}e:{if(f=u?Rr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var C=kE;else if(Ld(f))if(bg)C=VE;else{C=NE;var R=xE}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=DE);if(C&&(C=C(e,u))){Hg(h,C,n,c);break e}R&&R(e,f,u),e==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&Gu(f,"number",f.value)}switch(R=u?Rr(u):window,e){case"focusin":(Ld(R)||R.contentEditable==="true")&&(Ar=R,ac=u,Qi=null);break;case"focusout":Qi=ac=Ar=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,Ud(h,n,c);break;case"selectionchange":if(ME)break;case"keydown":case"keyup":Ud(h,n,c)}var k;if(jh)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Ir?zg(e,n)&&(V="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(Ug&&n.locale!=="ko"&&(Ir||V!=="onCompositionStart"?V==="onCompositionEnd"&&Ir&&(k=jg()):(un=c,Mh="value"in un?un.value:un.textContent,Ir=!0)),R=ca(u,V),0<R.length&&(V=new Nd(V,e,null,n,c),h.push({event:V,listeners:R}),k?V.data=k:(k=Bg(n),k!==null&&(V.data=k)))),(k=CE?IE(e,n):AE(e,n))&&(u=ca(u,"onBeforeInput"),0<u.length&&(c=new Nd("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=k))}ey(h,t)})}function ds(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ca(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=os(e,n),s!=null&&r.unshift(ds(e,s,i)),s=os(e,t),s!=null&&r.push(ds(e,s,i))),e=e.return}return r}function vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hd(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=os(n,s),l!=null&&o.unshift(ds(n,l,a))):i||(l=os(n,s),l!=null&&o.push(ds(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var UE=/\r\n?/g,zE=/\u0000|\uFFFD/g;function bd(e){return(typeof e=="string"?e:""+e).replace(UE,`
`).replace(zE,"")}function To(e,t,n){if(t=bd(t),bd(e)!==t&&n)throw Error(S(425))}function ha(){}var uc=null,cc=null;function hc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fc=typeof setTimeout=="function"?setTimeout:void 0,BE=typeof clearTimeout=="function"?clearTimeout:void 0,Wd=typeof Promise=="function"?Promise:void 0,HE=typeof queueMicrotask=="function"?queueMicrotask:typeof Wd<"u"?function(e){return Wd.resolve(null).then(e).catch(bE)}:fc;function bE(e){setTimeout(function(){throw e})}function uu(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),us(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);us(t)}function yn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),Dt="__reactFiber$"+fi,ps="__reactProps$"+fi,Xt="__reactContainer$"+fi,dc="__reactEvents$"+fi,WE="__reactListeners$"+fi,qE="__reactHandles$"+fi;function Kn(e){var t=e[Dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xt]||n[Dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qd(e);e!==null;){if(n=e[Dt])return n;e=qd(e)}return t}e=n,n=e.parentNode}return null}function Ws(e){return e=e[Dt]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(S(33))}function Za(e){return e[ps]||null}var pc=[],kr=-1;function On(e){return{current:e}}function te(e){0>kr||(e.current=pc[kr],pc[kr]=null,kr--)}function J(e,t){kr++,pc[kr]=e.current,e.current=t}var Pn={},Be=On(Pn),Je=On(!1),ir=Pn;function Gr(e,t){var n=e.type.contextTypes;if(!n)return Pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ze(e){return e=e.childContextTypes,e!=null}function fa(){te(Je),te(Be)}function Kd(e,t,n){if(Be.current!==Pn)throw Error(S(168));J(Be,t),J(Je,n)}function ny(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(S(108,x1(e)||"Unknown",i));return se({},n,r)}function da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pn,ir=Be.current,J(Be,e),J(Je,Je.current),!0}function Qd(e,t,n){var r=e.stateNode;if(!r)throw Error(S(169));n?(e=ny(e,t,ir),r.__reactInternalMemoizedMergedChildContext=e,te(Je),te(Be),J(Be,e)):te(Je),J(Je,n)}var bt=null,el=!1,cu=!1;function ry(e){bt===null?bt=[e]:bt.push(e)}function KE(e){el=!0,ry(e)}function Ln(){if(!cu&&bt!==null){cu=!0;var e=0,t=G;try{var n=bt;for(G=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}bt=null,el=!1}catch(i){throw bt!==null&&(bt=bt.slice(e+1)),Rg(Dh,Ln),i}finally{G=t,cu=!1}}return null}var xr=[],Nr=0,pa=null,ma=0,ft=[],dt=0,sr=null,Wt=1,qt="";function Bn(e,t){xr[Nr++]=ma,xr[Nr++]=pa,pa=e,ma=t}function iy(e,t,n){ft[dt++]=Wt,ft[dt++]=qt,ft[dt++]=sr,sr=e;var r=Wt;e=qt;var i=32-It(r)-1;r&=~(1<<i),n+=1;var s=32-It(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Wt=1<<32-It(t)+i|n<<i|r,qt=s+e}else Wt=1<<s|n<<i|r,qt=e}function zh(e){e.return!==null&&(Bn(e,1),iy(e,1,0))}function Bh(e){for(;e===pa;)pa=xr[--Nr],xr[Nr]=null,ma=xr[--Nr],xr[Nr]=null;for(;e===sr;)sr=ft[--dt],ft[dt]=null,qt=ft[--dt],ft[dt]=null,Wt=ft[--dt],ft[dt]=null}var st=null,rt=null,ne=!1,St=null;function sy(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,rt=yn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=sr!==null?{id:Wt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,st=e,rt=null,!0):!1;default:return!1}}function mc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gc(e){if(ne){var t=rt;if(t){var n=t;if(!Gd(e,t)){if(mc(e))throw Error(S(418));t=yn(n.nextSibling);var r=st;t&&Gd(e,t)?sy(r,n):(e.flags=e.flags&-4097|2,ne=!1,st=e)}}else{if(mc(e))throw Error(S(418));e.flags=e.flags&-4097|2,ne=!1,st=e}}}function Xd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function So(e){if(e!==st)return!1;if(!ne)return Xd(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hc(e.type,e.memoizedProps)),t&&(t=rt)){if(mc(e))throw oy(),Error(S(418));for(;t;)sy(e,t),t=yn(t.nextSibling)}if(Xd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(S(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=yn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=st?yn(e.stateNode.nextSibling):null;return!0}function oy(){for(var e=rt;e;)e=yn(e.nextSibling)}function Xr(){rt=st=null,ne=!1}function Hh(e){St===null?St=[e]:St.push(e)}var QE=nn.ReactCurrentBatchConfig;function wt(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ga=On(null),ya=null,Dr=null,bh=null;function Wh(){bh=Dr=ya=null}function qh(e){var t=ga.current;te(ga),e._currentValue=t}function yc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ur(e,t){ya=e,bh=Dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ye=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(bh!==e)if(e={context:e,memoizedValue:t,next:null},Dr===null){if(ya===null)throw Error(S(308));Dr=e,ya.dependencies={lanes:0,firstContext:e}}else Dr=Dr.next=e;return t}var Qn=null;function Kh(e){Qn===null?Qn=[e]:Qn.push(e)}function ay(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Kh(t)):(n.next=i.next,i.next=n),t.interleaved=n,Yt(e,r)}function Yt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var on=!1;function Qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ly(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Yt(e,n)}return i=r.interleaved,i===null?(t.next=t,Kh(r)):(t.next=i.next,i.next=t),r.interleaved=t,Yt(e,n)}function Ko(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vh(e,n)}}function Yd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function va(e,t,n,r){var i=e.updateQueue;on=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,_=a;switch(f=t,g=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){h=y.call(g,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,f=typeof y=="function"?y.call(g,h,f):y,f==null)break e;h=se({},h,f);break e;case 2:on=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=h):c=c.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ar|=o,e.lanes=o,e.memoizedState=h}}function Jd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(S(191,i));i.call(r)}}}var uy=new ag.Component().refs;function vc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tl={isMounted:function(e){return(e=e._reactInternals)?mr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ke(),i=En(e),s=Qt(r,i);s.payload=t,n!=null&&(s.callback=n),t=vn(e,s,i),t!==null&&(At(t,e,i,r),Ko(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ke(),i=En(e),s=Qt(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=vn(e,s,i),t!==null&&(At(t,e,i,r),Ko(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ke(),r=En(e),i=Qt(n,r);i.tag=2,t!=null&&(i.callback=t),t=vn(e,i,r),t!==null&&(At(t,e,r,n),Ko(t,e,r))}};function Zd(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!hs(n,r)||!hs(i,s):!0}function cy(e,t,n){var r=!1,i=Pn,s=t.contextType;return typeof s=="object"&&s!==null?s=yt(s):(i=Ze(t)?ir:Be.current,r=t.contextTypes,s=(r=r!=null)?Gr(e,i):Pn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ep(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&tl.enqueueReplaceState(t,t.state,null)}function _c(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=uy,Qh(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=yt(s):(s=Ze(t)?ir:Be.current,i.context=Gr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(vc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&tl.enqueueReplaceState(i,i.state,null),va(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ki(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===uy&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,e))}return e}function Co(e,t){throw e=Object.prototype.toString.call(t),Error(S(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tp(e){var t=e._init;return t(e._payload)}function hy(e){function t(p,d){if(e){var m=p.deletions;m===null?(p.deletions=[d],p.flags|=16):m.push(d)}}function n(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function r(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function i(p,d){return p=wn(p,d),p.index=0,p.sibling=null,p}function s(p,d,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<d?(p.flags|=2,d):m):(p.flags|=2,d)):(p.flags|=1048576,d)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,d,m,E){return d===null||d.tag!==6?(d=yu(m,p.mode,E),d.return=p,d):(d=i(d,m),d.return=p,d)}function l(p,d,m,E){var C=m.type;return C===Cr?c(p,d,m.props.children,E,m.key):d!==null&&(d.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===sn&&tp(C)===d.type)?(E=i(d,m.props),E.ref=ki(p,d,m),E.return=p,E):(E=Zo(m.type,m.key,m.props,null,p.mode,E),E.ref=ki(p,d,m),E.return=p,E)}function u(p,d,m,E){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=vu(m,p.mode,E),d.return=p,d):(d=i(d,m.children||[]),d.return=p,d)}function c(p,d,m,E,C){return d===null||d.tag!==7?(d=er(m,p.mode,E,C),d.return=p,d):(d=i(d,m),d.return=p,d)}function h(p,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=yu(""+d,p.mode,m),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case fo:return m=Zo(d.type,d.key,d.props,null,p.mode,m),m.ref=ki(p,null,d),m.return=p,m;case Sr:return d=vu(d,p.mode,m),d.return=p,d;case sn:var E=d._init;return h(p,E(d._payload),m)}if(Mi(d)||Ci(d))return d=er(d,p.mode,m,null),d.return=p,d;Co(p,d)}return null}function f(p,d,m,E){var C=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return C!==null?null:a(p,d,""+m,E);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case fo:return m.key===C?l(p,d,m,E):null;case Sr:return m.key===C?u(p,d,m,E):null;case sn:return C=m._init,f(p,d,C(m._payload),E)}if(Mi(m)||Ci(m))return C!==null?null:c(p,d,m,E,null);Co(p,m)}return null}function g(p,d,m,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(m)||null,a(d,p,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case fo:return p=p.get(E.key===null?m:E.key)||null,l(d,p,E,C);case Sr:return p=p.get(E.key===null?m:E.key)||null,u(d,p,E,C);case sn:var R=E._init;return g(p,d,m,R(E._payload),C)}if(Mi(E)||Ci(E))return p=p.get(m)||null,c(d,p,E,C,null);Co(d,E)}return null}function y(p,d,m,E){for(var C=null,R=null,k=d,V=d=0,Y=null;k!==null&&V<m.length;V++){k.index>V?(Y=k,k=null):Y=k.sibling;var U=f(p,k,m[V],E);if(U===null){k===null&&(k=Y);break}e&&k&&U.alternate===null&&t(p,k),d=s(U,d,V),R===null?C=U:R.sibling=U,R=U,k=Y}if(V===m.length)return n(p,k),ne&&Bn(p,V),C;if(k===null){for(;V<m.length;V++)k=h(p,m[V],E),k!==null&&(d=s(k,d,V),R===null?C=k:R.sibling=k,R=k);return ne&&Bn(p,V),C}for(k=r(p,k);V<m.length;V++)Y=g(k,p,V,m[V],E),Y!==null&&(e&&Y.alternate!==null&&k.delete(Y.key===null?V:Y.key),d=s(Y,d,V),R===null?C=Y:R.sibling=Y,R=Y);return e&&k.forEach(function(_t){return t(p,_t)}),ne&&Bn(p,V),C}function _(p,d,m,E){var C=Ci(m);if(typeof C!="function")throw Error(S(150));if(m=C.call(m),m==null)throw Error(S(151));for(var R=C=null,k=d,V=d=0,Y=null,U=m.next();k!==null&&!U.done;V++,U=m.next()){k.index>V?(Y=k,k=null):Y=k.sibling;var _t=f(p,k,U.value,E);if(_t===null){k===null&&(k=Y);break}e&&k&&_t.alternate===null&&t(p,k),d=s(_t,d,V),R===null?C=_t:R.sibling=_t,R=_t,k=Y}if(U.done)return n(p,k),ne&&Bn(p,V),C;if(k===null){for(;!U.done;V++,U=m.next())U=h(p,U.value,E),U!==null&&(d=s(U,d,V),R===null?C=U:R.sibling=U,R=U);return ne&&Bn(p,V),C}for(k=r(p,k);!U.done;V++,U=m.next())U=g(k,p,V,U.value,E),U!==null&&(e&&U.alternate!==null&&k.delete(U.key===null?V:U.key),d=s(U,d,V),R===null?C=U:R.sibling=U,R=U);return e&&k.forEach(function(Ti){return t(p,Ti)}),ne&&Bn(p,V),C}function v(p,d,m,E){if(typeof m=="object"&&m!==null&&m.type===Cr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case fo:e:{for(var C=m.key,R=d;R!==null;){if(R.key===C){if(C=m.type,C===Cr){if(R.tag===7){n(p,R.sibling),d=i(R,m.props.children),d.return=p,p=d;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===sn&&tp(C)===R.type){n(p,R.sibling),d=i(R,m.props),d.ref=ki(p,R,m),d.return=p,p=d;break e}n(p,R);break}else t(p,R);R=R.sibling}m.type===Cr?(d=er(m.props.children,p.mode,E,m.key),d.return=p,p=d):(E=Zo(m.type,m.key,m.props,null,p.mode,E),E.ref=ki(p,d,m),E.return=p,p=E)}return o(p);case Sr:e:{for(R=m.key;d!==null;){if(d.key===R)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){n(p,d.sibling),d=i(d,m.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else t(p,d);d=d.sibling}d=vu(m,p.mode,E),d.return=p,p=d}return o(p);case sn:return R=m._init,v(p,d,R(m._payload),E)}if(Mi(m))return y(p,d,m,E);if(Ci(m))return _(p,d,m,E);Co(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(n(p,d.sibling),d=i(d,m),d.return=p,p=d):(n(p,d),d=yu(m,p.mode,E),d.return=p,p=d),o(p)):n(p,d)}return v}var Yr=hy(!0),fy=hy(!1),qs={},jt=On(qs),ms=On(qs),gs=On(qs);function Gn(e){if(e===qs)throw Error(S(174));return e}function Gh(e,t){switch(J(gs,t),J(ms,e),J(jt,qs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yu(t,e)}te(jt),J(jt,t)}function Jr(){te(jt),te(ms),te(gs)}function dy(e){Gn(gs.current);var t=Gn(jt.current),n=Yu(t,e.type);t!==n&&(J(ms,e),J(jt,n))}function Xh(e){ms.current===e&&(te(jt),te(ms))}var re=On(0);function _a(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hu=[];function Yh(){for(var e=0;e<hu.length;e++)hu[e]._workInProgressVersionPrimary=null;hu.length=0}var Qo=nn.ReactCurrentDispatcher,fu=nn.ReactCurrentBatchConfig,or=0,ie=null,ye=null,Te=null,Ea=!1,Gi=!1,ys=0,GE=0;function Oe(){throw Error(S(321))}function Jh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rt(e[n],t[n]))return!1;return!0}function Zh(e,t,n,r,i,s){if(or=s,ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=e===null||e.memoizedState===null?ZE:ew,e=n(r,i),Gi){s=0;do{if(Gi=!1,ys=0,25<=s)throw Error(S(301));s+=1,Te=ye=null,t.updateQueue=null,Qo.current=tw,e=n(r,i)}while(Gi)}if(Qo.current=wa,t=ye!==null&&ye.next!==null,or=0,Te=ye=ie=null,Ea=!1,t)throw Error(S(300));return e}function ef(){var e=ys!==0;return ys=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?ie.memoizedState=Te=e:Te=Te.next=e,Te}function vt(){if(ye===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=Te===null?ie.memoizedState:Te.next;if(t!==null)Te=t,ye=e;else{if(e===null)throw Error(S(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Te===null?ie.memoizedState=Te=e:Te=Te.next=e}return Te}function vs(e,t){return typeof t=="function"?t(e):t}function du(e){var t=vt(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var r=ye,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((or&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ie.lanes|=c,ar|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Rt(r,t.memoizedState)||(Ye=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ie.lanes|=s,ar|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pu(e){var t=vt(),n=t.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Rt(s,t.memoizedState)||(Ye=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function py(){}function my(e,t){var n=ie,r=vt(),i=t(),s=!Rt(r.memoizedState,i);if(s&&(r.memoizedState=i,Ye=!0),r=r.queue,tf(vy.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,_s(9,yy.bind(null,n,r,i,t),void 0,null),Se===null)throw Error(S(349));or&30||gy(n,t,i)}return i}function gy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yy(e,t,n,r){t.value=n,t.getSnapshot=r,_y(t)&&Ey(e)}function vy(e,t,n){return n(function(){_y(t)&&Ey(e)})}function _y(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rt(e,n)}catch{return!0}}function Ey(e){var t=Yt(e,1);t!==null&&At(t,e,1,-1)}function np(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e},t.queue=e,e=e.dispatch=JE.bind(null,ie,e),[t.memoizedState,e]}function _s(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ie.updateQueue,t===null?(t={lastEffect:null,stores:null},ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wy(){return vt().memoizedState}function Go(e,t,n,r){var i=Nt();ie.flags|=e,i.memoizedState=_s(1|t,n,void 0,r===void 0?null:r)}function nl(e,t,n,r){var i=vt();r=r===void 0?null:r;var s=void 0;if(ye!==null){var o=ye.memoizedState;if(s=o.destroy,r!==null&&Jh(r,o.deps)){i.memoizedState=_s(t,n,s,r);return}}ie.flags|=e,i.memoizedState=_s(1|t,n,s,r)}function rp(e,t){return Go(8390656,8,e,t)}function tf(e,t){return nl(2048,8,e,t)}function Ty(e,t){return nl(4,2,e,t)}function Sy(e,t){return nl(4,4,e,t)}function Cy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Iy(e,t,n){return n=n!=null?n.concat([e]):null,nl(4,4,Cy.bind(null,t,e),n)}function nf(){}function Ay(e,t){var n=vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Py(e,t){var n=vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ry(e,t,n){return or&21?(Rt(n,t)||(n=Ng(),ie.lanes|=n,ar|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=n)}function XE(e,t){var n=G;G=n!==0&&4>n?n:4,e(!0);var r=fu.transition;fu.transition={};try{e(!1),t()}finally{G=n,fu.transition=r}}function ky(){return vt().memoizedState}function YE(e,t,n){var r=En(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xy(e))Ny(t,n);else if(n=ay(e,t,n,r),n!==null){var i=Ke();At(n,e,r,i),Dy(n,t,r)}}function JE(e,t,n){var r=En(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xy(e))Ny(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Rt(a,o)){var l=t.interleaved;l===null?(i.next=i,Kh(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=ay(e,t,i,r),n!==null&&(i=Ke(),At(n,e,r,i),Dy(n,t,r))}}function xy(e){var t=e.alternate;return e===ie||t!==null&&t===ie}function Ny(e,t){Gi=Ea=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Dy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vh(e,n)}}var wa={readContext:yt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},ZE={readContext:yt,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:rp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Go(4194308,4,Cy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Go(4194308,4,e,t)},useInsertionEffect:function(e,t){return Go(4,2,e,t)},useMemo:function(e,t){var n=Nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=YE.bind(null,ie,e),[r.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:np,useDebugValue:nf,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=np(!1),t=e[0];return e=XE.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ie,i=Nt();if(ne){if(n===void 0)throw Error(S(407));n=n()}else{if(n=t(),Se===null)throw Error(S(349));or&30||gy(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,rp(vy.bind(null,r,s,e),[e]),r.flags|=2048,_s(9,yy.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Nt(),t=Se.identifierPrefix;if(ne){var n=qt,r=Wt;n=(r&~(1<<32-It(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ys++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=GE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ew={readContext:yt,useCallback:Ay,useContext:yt,useEffect:tf,useImperativeHandle:Iy,useInsertionEffect:Ty,useLayoutEffect:Sy,useMemo:Py,useReducer:du,useRef:wy,useState:function(){return du(vs)},useDebugValue:nf,useDeferredValue:function(e){var t=vt();return Ry(t,ye.memoizedState,e)},useTransition:function(){var e=du(vs)[0],t=vt().memoizedState;return[e,t]},useMutableSource:py,useSyncExternalStore:my,useId:ky,unstable_isNewReconciler:!1},tw={readContext:yt,useCallback:Ay,useContext:yt,useEffect:tf,useImperativeHandle:Iy,useInsertionEffect:Ty,useLayoutEffect:Sy,useMemo:Py,useReducer:pu,useRef:wy,useState:function(){return pu(vs)},useDebugValue:nf,useDeferredValue:function(e){var t=vt();return ye===null?t.memoizedState=e:Ry(t,ye.memoizedState,e)},useTransition:function(){var e=pu(vs)[0],t=vt().memoizedState;return[e,t]},useMutableSource:py,useSyncExternalStore:my,useId:ky,unstable_isNewReconciler:!1};function Zr(e,t){try{var n="",r=t;do n+=k1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function mu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ec(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var nw=typeof WeakMap=="function"?WeakMap:Map;function Vy(e,t,n){n=Qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Sa||(Sa=!0,xc=r),Ec(e,t)},n}function Oy(e,t,n){n=Qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ec(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ec(e,t),typeof r!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ip(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new nw;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=gw.bind(null,e,t,n),t.then(e,e))}function sp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function op(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qt(-1,1),t.tag=2,vn(n,t,1))),n.lanes|=1),e)}var rw=nn.ReactCurrentOwner,Ye=!1;function be(e,t,n,r){t.child=e===null?fy(t,null,n,r):Yr(t,e.child,n,r)}function ap(e,t,n,r,i){n=n.render;var s=t.ref;return Ur(t,i),r=Zh(e,t,n,r,s,i),n=ef(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Jt(e,t,i)):(ne&&n&&zh(t),t.flags|=1,be(e,t,r,i),t.child)}function lp(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!hf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Ly(e,t,s,r,i)):(e=Zo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:hs,n(o,r)&&e.ref===t.ref)return Jt(e,t,i)}return t.flags|=1,e=wn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Ly(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(hs(s,r)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Ye=!0);else return t.lanes=e.lanes,Jt(e,t,i)}return wc(e,t,n,r,i)}function My(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Or,nt),nt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,J(Or,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,J(Or,nt),nt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,J(Or,nt),nt|=r;return be(e,t,i,n),t.child}function Fy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function wc(e,t,n,r,i){var s=Ze(n)?ir:Be.current;return s=Gr(t,s),Ur(t,i),n=Zh(e,t,n,r,s,i),r=ef(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Jt(e,t,i)):(ne&&r&&zh(t),t.flags|=1,be(e,t,n,i),t.child)}function up(e,t,n,r,i){if(Ze(n)){var s=!0;da(t)}else s=!1;if(Ur(t,i),t.stateNode===null)Xo(e,t),cy(t,n,r),_c(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=yt(u):(u=Ze(n)?ir:Be.current,u=Gr(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&ep(t,o,r,u),on=!1;var f=t.memoizedState;o.state=f,va(t,r,o,i),l=t.memoizedState,a!==r||f!==l||Je.current||on?(typeof c=="function"&&(vc(t,n,c,r),l=t.memoizedState),(a=on||Zd(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ly(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:wt(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=yt(l):(l=Ze(n)?ir:Be.current,l=Gr(t,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&ep(t,o,r,l),on=!1,f=t.memoizedState,o.state=f,va(t,r,o,i);var y=t.memoizedState;a!==h||f!==y||Je.current||on?(typeof g=="function"&&(vc(t,n,g,r),y=t.memoizedState),(u=on||Zd(t,n,u,r,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Tc(e,t,n,r,s,i)}function Tc(e,t,n,r,i,s){Fy(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Qd(t,n,!1),Jt(e,t,s);r=t.stateNode,rw.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Yr(t,e.child,null,s),t.child=Yr(t,null,a,s)):be(e,t,a,s),t.memoizedState=r.state,i&&Qd(t,n,!0),t.child}function $y(e){var t=e.stateNode;t.pendingContext?Kd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Kd(e,t.context,!1),Gh(e,t.containerInfo)}function cp(e,t,n,r,i){return Xr(),Hh(i),t.flags|=256,be(e,t,n,r),t.child}var Sc={dehydrated:null,treeContext:null,retryLane:0};function Cc(e){return{baseLanes:e,cachePool:null,transitions:null}}function jy(e,t,n){var r=t.pendingProps,i=re.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),J(re,i&1),e===null)return gc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sl(o,r,0,null),e=er(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Cc(n),t.memoizedState=Sc,e):rf(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return iw(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=wn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=wn(a,s):(s=er(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Cc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Sc,r}return s=e.child,e=s.sibling,r=wn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function rf(e,t){return t=sl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Io(e,t,n,r){return r!==null&&Hh(r),Yr(t,e.child,null,n),e=rf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iw(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=mu(Error(S(422))),Io(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=sl({mode:"visible",children:r.children},i,0,null),s=er(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Yr(t,e.child,null,o),t.child.memoizedState=Cc(o),t.memoizedState=Sc,s);if(!(t.mode&1))return Io(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(S(419)),r=mu(s,r,void 0),Io(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ye||a){if(r=Se,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yt(e,i),At(r,e,i,-1))}return cf(),r=mu(Error(S(421))),Io(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=yw.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,rt=yn(i.nextSibling),st=t,ne=!0,St=null,e!==null&&(ft[dt++]=Wt,ft[dt++]=qt,ft[dt++]=sr,Wt=e.id,qt=e.overflow,sr=t),t=rf(t,r.children),t.flags|=4096,t)}function hp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),yc(e.return,t,n)}function gu(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Uy(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(be(e,t,r.children,n),r=re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hp(e,n,t);else if(e.tag===19)hp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(J(re,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&_a(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),gu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_a(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}gu(t,!0,n,null,s);break;case"together":gu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ar|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(S(153));if(t.child!==null){for(e=t.child,n=wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sw(e,t,n){switch(t.tag){case 3:$y(t),Xr();break;case 5:dy(t);break;case 1:Ze(t.type)&&da(t);break;case 4:Gh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;J(ga,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(J(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?jy(e,t,n):(J(re,re.current&1),e=Jt(e,t,n),e!==null?e.sibling:null);J(re,re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Uy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),J(re,re.current),r)break;return null;case 22:case 23:return t.lanes=0,My(e,t,n)}return Jt(e,t,n)}var zy,Ic,By,Hy;zy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ic=function(){};By=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gn(jt.current);var s=null;switch(n){case"input":i=Ku(e,i),r=Ku(e,r),s=[];break;case"select":i=se({},i,{value:void 0}),r=se({},r,{value:void 0}),s=[];break;case"textarea":i=Xu(e,i),r=Xu(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ha)}Ju(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(is.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(is.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Z("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Hy=function(e,t,n,r){n!==r&&(t.flags|=4)};function xi(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ow(e,t,n){var r=t.pendingProps;switch(Bh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Ze(t.type)&&fa(),Le(t),null;case 3:return r=t.stateNode,Jr(),te(Je),te(Be),Yh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(So(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(Vc(St),St=null))),Ic(e,t),Le(t),null;case 5:Xh(t);var i=Gn(gs.current);if(n=t.type,e!==null&&t.stateNode!=null)By(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(S(166));return Le(t),null}if(e=Gn(jt.current),So(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Dt]=t,r[ps]=s,e=(t.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(i=0;i<$i.length;i++)Z($i[i],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":Ed(r,s),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Z("invalid",r);break;case"textarea":Td(r,s),Z("invalid",r)}Ju(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&To(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&To(r.textContent,a,e),i=["children",""+a]):is.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Z("scroll",r)}switch(n){case"input":po(r),wd(r,s,!0);break;case"textarea":po(r),Sd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ha)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Dt]=t,e[ps]=r,zy(e,t,!1,!1),t.stateNode=e;e:{switch(o=Zu(n,r),n){case"dialog":Z("cancel",e),Z("close",e),i=r;break;case"iframe":case"object":case"embed":Z("load",e),i=r;break;case"video":case"audio":for(i=0;i<$i.length;i++)Z($i[i],e);i=r;break;case"source":Z("error",e),i=r;break;case"img":case"image":case"link":Z("error",e),Z("load",e),i=r;break;case"details":Z("toggle",e),i=r;break;case"input":Ed(e,r),i=Ku(e,r),Z("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=se({},r,{value:void 0}),Z("invalid",e);break;case"textarea":Td(e,r),i=Xu(e,r),Z("invalid",e);break;default:i=r}Ju(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?_g(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yg(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ss(e,l):typeof l=="number"&&ss(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(is.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Z("scroll",e):l!=null&&Ph(e,s,l,o))}switch(n){case"input":po(e),wd(e,r,!1);break;case"textarea":po(e),Sd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+An(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Mr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Mr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ha)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)Hy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(S(166));if(n=Gn(gs.current),Gn(jt.current),So(t)){if(r=t.stateNode,n=t.memoizedProps,r[Dt]=t,(s=r.nodeValue!==n)&&(e=st,e!==null))switch(e.tag){case 3:To(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&To(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dt]=t,t.stateNode=r}return Le(t),null;case 13:if(te(re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&rt!==null&&t.mode&1&&!(t.flags&128))oy(),Xr(),t.flags|=98560,s=!1;else if(s=So(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(S(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(S(317));s[Dt]=t}else Xr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),s=!1}else St!==null&&(Vc(St),St=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?_e===0&&(_e=3):cf())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return Jr(),Ic(e,t),e===null&&fs(t.stateNode.containerInfo),Le(t),null;case 10:return qh(t.type._context),Le(t),null;case 17:return Ze(t.type)&&fa(),Le(t),null;case 19:if(te(re),s=t.memoizedState,s===null)return Le(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)xi(s,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_a(e),o!==null){for(t.flags|=128,xi(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return J(re,re.current&1|2),t.child}e=e.sibling}s.tail!==null&&he()>ei&&(t.flags|=128,r=!0,xi(s,!1),t.lanes=4194304)}else{if(!r)if(e=_a(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ne)return Le(t),null}else 2*he()-s.renderingStartTime>ei&&n!==1073741824&&(t.flags|=128,r=!0,xi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=he(),t.sibling=null,n=re.current,J(re,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return uf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nt&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(S(156,t.tag))}function aw(e,t){switch(Bh(t),t.tag){case 1:return Ze(t.type)&&fa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jr(),te(Je),te(Be),Yh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xh(t),null;case 13:if(te(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(S(340));Xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(re),null;case 4:return Jr(),null;case 10:return qh(t.type._context),null;case 22:case 23:return uf(),null;case 24:return null;default:return null}}var Ao=!1,$e=!1,lw=typeof WeakSet=="function"?WeakSet:Set,x=null;function Vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){oe(e,t,r)}else n.current=null}function Ac(e,t,n){try{n()}catch(r){oe(e,t,r)}}var fp=!1;function uw(e,t){if(uc=la,e=Kg(),Uh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cc={focusedElem:e,selectionRange:n},la=!1,x=t;x!==null;)if(t=x,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,x=e;else for(;x!==null;){t=x;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,v=y.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?_:wt(t.type,_),v);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(E){oe(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,x=e;break}x=t.return}return y=fp,fp=!1,y}function Xi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ac(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function by(e){var t=e.alternate;t!==null&&(e.alternate=null,by(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dt],delete t[ps],delete t[dc],delete t[WE],delete t[qE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wy(e){return e.tag===5||e.tag===3||e.tag===4}function dp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ha));else if(r!==4&&(e=e.child,e!==null))for(Rc(e,t,n),e=e.sibling;e!==null;)Rc(e,t,n),e=e.sibling}function kc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(kc(e,t,n),e=e.sibling;e!==null;)kc(e,t,n),e=e.sibling}var Pe=null,Tt=!1;function rn(e,t,n){for(n=n.child;n!==null;)qy(e,t,n),n=n.sibling}function qy(e,t,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Ga,n)}catch{}switch(n.tag){case 5:$e||Vr(n,t);case 6:var r=Pe,i=Tt;Pe=null,rn(e,t,n),Pe=r,Tt=i,Pe!==null&&(Tt?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(Tt?(e=Pe,n=n.stateNode,e.nodeType===8?uu(e.parentNode,n):e.nodeType===1&&uu(e,n),us(e)):uu(Pe,n.stateNode));break;case 4:r=Pe,i=Tt,Pe=n.stateNode.containerInfo,Tt=!0,rn(e,t,n),Pe=r,Tt=i;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ac(n,t,o),i=i.next}while(i!==r)}rn(e,t,n);break;case 1:if(!$e&&(Vr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){oe(n,t,a)}rn(e,t,n);break;case 21:rn(e,t,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,rn(e,t,n),$e=r):rn(e,t,n);break;default:rn(e,t,n)}}function pp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new lw),t.forEach(function(r){var i=vw.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pe=a.stateNode,Tt=!1;break e;case 3:Pe=a.stateNode.containerInfo,Tt=!0;break e;case 4:Pe=a.stateNode.containerInfo,Tt=!0;break e}a=a.return}if(Pe===null)throw Error(S(160));qy(s,o,i),Pe=null,Tt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){oe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ky(t,e),t=t.sibling}function Ky(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),xt(e),r&4){try{Xi(3,e,e.return),rl(3,e)}catch(_){oe(e,e.return,_)}try{Xi(5,e,e.return)}catch(_){oe(e,e.return,_)}}break;case 1:Et(t,e),xt(e),r&512&&n!==null&&Vr(n,n.return);break;case 5:if(Et(t,e),xt(e),r&512&&n!==null&&Vr(n,n.return),e.flags&32){var i=e.stateNode;try{ss(i,"")}catch(_){oe(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&pg(i,s),Zu(a,o);var u=Zu(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?_g(i,h):c==="dangerouslySetInnerHTML"?yg(i,h):c==="children"?ss(i,h):Ph(i,c,h,u)}switch(a){case"input":Qu(i,s);break;case"textarea":mg(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Mr(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Mr(i,!!s.multiple,s.defaultValue,!0):Mr(i,!!s.multiple,s.multiple?[]:"",!1))}i[ps]=s}catch(_){oe(e,e.return,_)}}break;case 6:if(Et(t,e),xt(e),r&4){if(e.stateNode===null)throw Error(S(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){oe(e,e.return,_)}}break;case 3:if(Et(t,e),xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{us(t.containerInfo)}catch(_){oe(e,e.return,_)}break;case 4:Et(t,e),xt(e);break;case 13:Et(t,e),xt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(af=he())),r&4&&pp(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?($e=(u=$e)||c,Et(t,e),$e=u):Et(t,e),xt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(x=e,c=e.child;c!==null;){for(h=x=c;x!==null;){switch(f=x,g=f.child,f.tag){case 0:case 11:case 14:case 15:Xi(4,f,f.return);break;case 1:Vr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(_){oe(r,n,_)}}break;case 5:Vr(f,f.return);break;case 22:if(f.memoizedState!==null){gp(h);continue}}g!==null?(g.return=f,x=g):gp(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vg("display",o))}catch(_){oe(e,e.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){oe(e,e.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Et(t,e),xt(e),r&4&&pp(e);break;case 21:break;default:Et(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wy(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ss(i,""),r.flags&=-33);var s=dp(e);kc(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=dp(e);Rc(e,a,o);break;default:throw Error(S(161))}}catch(l){oe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cw(e,t,n){x=e,Qy(e)}function Qy(e,t,n){for(var r=(e.mode&1)!==0;x!==null;){var i=x,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ao;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||$e;a=Ao;var u=$e;if(Ao=o,($e=l)&&!u)for(x=i;x!==null;)o=x,l=o.child,o.tag===22&&o.memoizedState!==null?yp(i):l!==null?(l.return=o,x=l):yp(i);for(;s!==null;)x=s,Qy(s),s=s.sibling;x=i,Ao=a,$e=u}mp(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,x=s):mp(e)}}function mp(e){for(;x!==null;){var t=x;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||rl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$e)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:wt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Jd(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Jd(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&us(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}$e||t.flags&512&&Pc(t)}catch(f){oe(t,t.return,f)}}if(t===e){x=null;break}if(n=t.sibling,n!==null){n.return=t.return,x=n;break}x=t.return}}function gp(e){for(;x!==null;){var t=x;if(t===e){x=null;break}var n=t.sibling;if(n!==null){n.return=t.return,x=n;break}x=t.return}}function yp(e){for(;x!==null;){var t=x;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){oe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){oe(t,i,l)}}var s=t.return;try{Pc(t)}catch(l){oe(t,s,l)}break;case 5:var o=t.return;try{Pc(t)}catch(l){oe(t,o,l)}}}catch(l){oe(t,t.return,l)}if(t===e){x=null;break}var a=t.sibling;if(a!==null){a.return=t.return,x=a;break}x=t.return}}var hw=Math.ceil,Ta=nn.ReactCurrentDispatcher,sf=nn.ReactCurrentOwner,gt=nn.ReactCurrentBatchConfig,q=0,Se=null,me=null,xe=0,nt=0,Or=On(0),_e=0,Es=null,ar=0,il=0,of=0,Yi=null,Xe=null,af=0,ei=1/0,Ht=null,Sa=!1,xc=null,_n=null,Po=!1,cn=null,Ca=0,Ji=0,Nc=null,Yo=-1,Jo=0;function Ke(){return q&6?he():Yo!==-1?Yo:Yo=he()}function En(e){return e.mode&1?q&2&&xe!==0?xe&-xe:QE.transition!==null?(Jo===0&&(Jo=Ng()),Jo):(e=G,e!==0||(e=window.event,e=e===void 0?16:$g(e.type)),e):1}function At(e,t,n,r){if(50<Ji)throw Ji=0,Nc=null,Error(S(185));Hs(e,n,r),(!(q&2)||e!==Se)&&(e===Se&&(!(q&2)&&(il|=n),_e===4&&ln(e,xe)),et(e,r),n===1&&q===0&&!(t.mode&1)&&(ei=he()+500,el&&Ln()))}function et(e,t){var n=e.callbackNode;Q1(e,t);var r=aa(e,e===Se?xe:0);if(r===0)n!==null&&Ad(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ad(n),t===1)e.tag===0?KE(vp.bind(null,e)):ry(vp.bind(null,e)),HE(function(){!(q&6)&&Ln()}),n=null;else{switch(Dg(r)){case 1:n=Dh;break;case 4:n=kg;break;case 16:n=oa;break;case 536870912:n=xg;break;default:n=oa}n=nv(n,Gy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gy(e,t){if(Yo=-1,Jo=0,q&6)throw Error(S(327));var n=e.callbackNode;if(zr()&&e.callbackNode!==n)return null;var r=aa(e,e===Se?xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ia(e,r);else{t=r;var i=q;q|=2;var s=Yy();(Se!==e||xe!==t)&&(Ht=null,ei=he()+500,Zn(e,t));do try{pw();break}catch(a){Xy(e,a)}while(!0);Wh(),Ta.current=s,q=i,me!==null?t=0:(Se=null,xe=0,t=_e)}if(t!==0){if(t===2&&(i=ic(e),i!==0&&(r=i,t=Dc(e,i))),t===1)throw n=Es,Zn(e,0),ln(e,r),et(e,he()),n;if(t===6)ln(e,r);else{if(i=e.current.alternate,!(r&30)&&!fw(i)&&(t=Ia(e,r),t===2&&(s=ic(e),s!==0&&(r=s,t=Dc(e,s))),t===1))throw n=Es,Zn(e,0),ln(e,r),et(e,he()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(S(345));case 2:Hn(e,Xe,Ht);break;case 3:if(ln(e,r),(r&130023424)===r&&(t=af+500-he(),10<t)){if(aa(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ke(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=fc(Hn.bind(null,e,Xe,Ht),t);break}Hn(e,Xe,Ht);break;case 4:if(ln(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-It(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=he()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hw(r/1960))-r,10<r){e.timeoutHandle=fc(Hn.bind(null,e,Xe,Ht),r);break}Hn(e,Xe,Ht);break;case 5:Hn(e,Xe,Ht);break;default:throw Error(S(329))}}}return et(e,he()),e.callbackNode===n?Gy.bind(null,e):null}function Dc(e,t){var n=Yi;return e.current.memoizedState.isDehydrated&&(Zn(e,t).flags|=256),e=Ia(e,t),e!==2&&(t=Xe,Xe=n,t!==null&&Vc(t)),e}function Vc(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function fw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Rt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t){for(t&=~of,t&=~il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-It(t),r=1<<n;e[n]=-1,t&=~r}}function vp(e){if(q&6)throw Error(S(327));zr();var t=aa(e,0);if(!(t&1))return et(e,he()),null;var n=Ia(e,t);if(e.tag!==0&&n===2){var r=ic(e);r!==0&&(t=r,n=Dc(e,r))}if(n===1)throw n=Es,Zn(e,0),ln(e,t),et(e,he()),n;if(n===6)throw Error(S(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hn(e,Xe,Ht),et(e,he()),null}function lf(e,t){var n=q;q|=1;try{return e(t)}finally{q=n,q===0&&(ei=he()+500,el&&Ln())}}function lr(e){cn!==null&&cn.tag===0&&!(q&6)&&zr();var t=q;q|=1;var n=gt.transition,r=G;try{if(gt.transition=null,G=1,e)return e()}finally{G=r,gt.transition=n,q=t,!(q&6)&&Ln()}}function uf(){nt=Or.current,te(Or)}function Zn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,BE(n)),me!==null)for(n=me.return;n!==null;){var r=n;switch(Bh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fa();break;case 3:Jr(),te(Je),te(Be),Yh();break;case 5:Xh(r);break;case 4:Jr();break;case 13:te(re);break;case 19:te(re);break;case 10:qh(r.type._context);break;case 22:case 23:uf()}n=n.return}if(Se=e,me=e=wn(e.current,null),xe=nt=t,_e=0,Es=null,of=il=ar=0,Xe=Yi=null,Qn!==null){for(t=0;t<Qn.length;t++)if(n=Qn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Qn=null}return e}function Xy(e,t){do{var n=me;try{if(Wh(),Qo.current=wa,Ea){for(var r=ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ea=!1}if(or=0,Te=ye=ie=null,Gi=!1,ys=0,sf.current=null,n===null||n.return===null){_e=1,Es=t,me=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=xe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=sp(o);if(g!==null){g.flags&=-257,op(g,o,a,s,t),g.mode&1&&ip(s,u,t),t=g,l=u;var y=t.updateQueue;if(y===null){var _=new Set;_.add(l),t.updateQueue=_}else y.add(l);break e}else{if(!(t&1)){ip(s,u,t),cf();break e}l=Error(S(426))}}else if(ne&&a.mode&1){var v=sp(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),op(v,o,a,s,t),Hh(Zr(l,a));break e}}s=l=Zr(l,a),_e!==4&&(_e=2),Yi===null?Yi=[s]:Yi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=Vy(s,l,t);Yd(s,p);break e;case 1:a=l;var d=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(_n===null||!_n.has(m)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=Oy(s,a,t);Yd(s,E);break e}}s=s.return}while(s!==null)}Zy(n)}catch(C){t=C,me===n&&n!==null&&(me=n=n.return);continue}break}while(!0)}function Yy(){var e=Ta.current;return Ta.current=wa,e===null?wa:e}function cf(){(_e===0||_e===3||_e===2)&&(_e=4),Se===null||!(ar&268435455)&&!(il&268435455)||ln(Se,xe)}function Ia(e,t){var n=q;q|=2;var r=Yy();(Se!==e||xe!==t)&&(Ht=null,Zn(e,t));do try{dw();break}catch(i){Xy(e,i)}while(!0);if(Wh(),q=n,Ta.current=r,me!==null)throw Error(S(261));return Se=null,xe=0,_e}function dw(){for(;me!==null;)Jy(me)}function pw(){for(;me!==null&&!j1();)Jy(me)}function Jy(e){var t=tv(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?Zy(e):me=t,sf.current=null}function Zy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=aw(n,t),n!==null){n.flags&=32767,me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,me=null;return}}else if(n=ow(n,t,nt),n!==null){me=n;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);_e===0&&(_e=5)}function Hn(e,t,n){var r=G,i=gt.transition;try{gt.transition=null,G=1,mw(e,t,n,r)}finally{gt.transition=i,G=r}return null}function mw(e,t,n,r){do zr();while(cn!==null);if(q&6)throw Error(S(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(S(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(G1(e,s),e===Se&&(me=Se=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Po||(Po=!0,nv(oa,function(){return zr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gt.transition,gt.transition=null;var o=G;G=1;var a=q;q|=4,sf.current=null,uw(e,n),Ky(n,e),LE(cc),la=!!uc,cc=uc=null,e.current=n,cw(n),U1(),q=a,G=o,gt.transition=s}else e.current=n;if(Po&&(Po=!1,cn=e,Ca=i),s=e.pendingLanes,s===0&&(_n=null),H1(n.stateNode),et(e,he()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Sa)throw Sa=!1,e=xc,xc=null,e;return Ca&1&&e.tag!==0&&zr(),s=e.pendingLanes,s&1?e===Nc?Ji++:(Ji=0,Nc=e):Ji=0,Ln(),null}function zr(){if(cn!==null){var e=Dg(Ca),t=gt.transition,n=G;try{if(gt.transition=null,G=16>e?16:e,cn===null)var r=!1;else{if(e=cn,cn=null,Ca=0,q&6)throw Error(S(331));var i=q;for(q|=4,x=e.current;x!==null;){var s=x,o=s.child;if(x.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(x=u;x!==null;){var c=x;switch(c.tag){case 0:case 11:case 15:Xi(8,c,s)}var h=c.child;if(h!==null)h.return=c,x=h;else for(;x!==null;){c=x;var f=c.sibling,g=c.return;if(by(c),c===u){x=null;break}if(f!==null){f.return=g,x=f;break}x=g}}}var y=s.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}x=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,x=o;else e:for(;x!==null;){if(s=x,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xi(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,x=p;break e}x=s.return}}var d=e.current;for(x=d;x!==null;){o=x;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,x=m;else e:for(o=d;x!==null;){if(a=x,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rl(9,a)}}catch(C){oe(a,a.return,C)}if(a===o){x=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,x=E;break e}x=a.return}}if(q=i,Ln(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Ga,e)}catch{}r=!0}return r}finally{G=n,gt.transition=t}}return!1}function _p(e,t,n){t=Zr(n,t),t=Vy(e,t,1),e=vn(e,t,1),t=Ke(),e!==null&&(Hs(e,1,t),et(e,t))}function oe(e,t,n){if(e.tag===3)_p(e,e,n);else for(;t!==null;){if(t.tag===3){_p(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_n===null||!_n.has(r))){e=Zr(n,e),e=Oy(t,e,1),t=vn(t,e,1),e=Ke(),t!==null&&(Hs(t,1,e),et(t,e));break}}t=t.return}}function gw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ke(),e.pingedLanes|=e.suspendedLanes&n,Se===e&&(xe&n)===n&&(_e===4||_e===3&&(xe&130023424)===xe&&500>he()-af?Zn(e,0):of|=n),et(e,t)}function ev(e,t){t===0&&(e.mode&1?(t=yo,yo<<=1,!(yo&130023424)&&(yo=4194304)):t=1);var n=Ke();e=Yt(e,t),e!==null&&(Hs(e,t,n),et(e,n))}function yw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ev(e,n)}function vw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(t),ev(e,n)}var tv;tv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Ye=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ye=!1,sw(e,t,n);Ye=!!(e.flags&131072)}else Ye=!1,ne&&t.flags&1048576&&iy(t,ma,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xo(e,t),e=t.pendingProps;var i=Gr(t,Be.current);Ur(t,n),i=Zh(null,t,r,e,i,n);var s=ef();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(r)?(s=!0,da(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qh(t),i.updater=tl,t.stateNode=i,i._reactInternals=t,_c(t,r,e,n),t=Tc(null,t,r,!0,s,n)):(t.tag=0,ne&&s&&zh(t),be(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Ew(r),e=wt(r,e),i){case 0:t=wc(null,t,r,e,n);break e;case 1:t=up(null,t,r,e,n);break e;case 11:t=ap(null,t,r,e,n);break e;case 14:t=lp(null,t,r,wt(r.type,e),n);break e}throw Error(S(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wt(r,i),wc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wt(r,i),up(e,t,r,i,n);case 3:e:{if($y(t),e===null)throw Error(S(387));r=t.pendingProps,s=t.memoizedState,i=s.element,ly(e,t),va(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Zr(Error(S(423)),t),t=cp(e,t,r,n,i);break e}else if(r!==i){i=Zr(Error(S(424)),t),t=cp(e,t,r,n,i);break e}else for(rt=yn(t.stateNode.containerInfo.firstChild),st=t,ne=!0,St=null,n=fy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xr(),r===i){t=Jt(e,t,n);break e}be(e,t,r,n)}t=t.child}return t;case 5:return dy(t),e===null&&gc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,hc(r,i)?o=null:s!==null&&hc(r,s)&&(t.flags|=32),Fy(e,t),be(e,t,o,n),t.child;case 6:return e===null&&gc(t),null;case 13:return jy(e,t,n);case 4:return Gh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yr(t,null,r,n):be(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wt(r,i),ap(e,t,r,i,n);case 7:return be(e,t,t.pendingProps,n),t.child;case 8:return be(e,t,t.pendingProps.children,n),t.child;case 12:return be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,J(ga,r._currentValue),r._currentValue=o,s!==null)if(Rt(s.value,o)){if(s.children===i.children&&!Je.current){t=Jt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Qt(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),yc(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(S(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yc(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}be(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ur(t,n),i=yt(i),r=r(i),t.flags|=1,be(e,t,r,n),t.child;case 14:return r=t.type,i=wt(r,t.pendingProps),i=wt(r.type,i),lp(e,t,r,i,n);case 15:return Ly(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wt(r,i),Xo(e,t),t.tag=1,Ze(r)?(e=!0,da(t)):e=!1,Ur(t,n),cy(t,r,i),_c(t,r,i,n),Tc(null,t,r,!0,e,n);case 19:return Uy(e,t,n);case 22:return My(e,t,n)}throw Error(S(156,t.tag))};function nv(e,t){return Rg(e,t)}function _w(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,r){return new _w(e,t,n,r)}function hf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ew(e){if(typeof e=="function")return hf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kh)return 11;if(e===xh)return 14}return 2}function wn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zo(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")hf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Cr:return er(n.children,i,s,t);case Rh:o=8,i|=8;break;case Hu:return e=mt(12,n,t,i|2),e.elementType=Hu,e.lanes=s,e;case bu:return e=mt(13,n,t,i),e.elementType=bu,e.lanes=s,e;case Wu:return e=mt(19,n,t,i),e.elementType=Wu,e.lanes=s,e;case hg:return sl(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ug:o=10;break e;case cg:o=9;break e;case kh:o=11;break e;case xh:o=14;break e;case sn:o=16,r=null;break e}throw Error(S(130,e==null?e:typeof e,""))}return t=mt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function er(e,t,n,r){return e=mt(7,e,r,t),e.lanes=n,e}function sl(e,t,n,r){return e=mt(22,e,r,t),e.elementType=hg,e.lanes=n,e.stateNode={isHidden:!1},e}function yu(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function vu(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ww(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jl(0),this.expirationTimes=Jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ff(e,t,n,r,i,s,o,a,l){return e=new ww(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=mt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qh(s),e}function Tw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rv(e){if(!e)return Pn;e=e._reactInternals;e:{if(mr(e)!==e||e.tag!==1)throw Error(S(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(S(171))}if(e.tag===1){var n=e.type;if(Ze(n))return ny(e,n,t)}return t}function iv(e,t,n,r,i,s,o,a,l){return e=ff(n,r,!0,e,i,s,o,a,l),e.context=rv(null),n=e.current,r=Ke(),i=En(n),s=Qt(r,i),s.callback=t??null,vn(n,s,i),e.current.lanes=i,Hs(e,i,r),et(e,r),e}function ol(e,t,n,r){var i=t.current,s=Ke(),o=En(i);return n=rv(n),t.context===null?t.context=n:t.pendingContext=n,t=Qt(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vn(i,t,o),e!==null&&(At(e,i,o,s),Ko(e,i,o)),o}function Aa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ep(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function df(e,t){Ep(e,t),(e=e.alternate)&&Ep(e,t)}function Sw(){return null}var sv=typeof reportError=="function"?reportError:function(e){console.error(e)};function pf(e){this._internalRoot=e}al.prototype.render=pf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(S(409));ol(e,t,null,null)};al.prototype.unmount=pf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lr(function(){ol(null,e,null,null)}),t[Xt]=null}};function al(e){this._internalRoot=e}al.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<an.length&&t!==0&&t<an[n].priority;n++);an.splice(n,0,e),n===0&&Fg(e)}};function mf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ll(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wp(){}function Cw(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Aa(o);s.call(u)}}var o=iv(t,r,e,0,null,!1,!1,"",wp);return e._reactRootContainer=o,e[Xt]=o.current,fs(e.nodeType===8?e.parentNode:e),lr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Aa(l);a.call(u)}}var l=ff(e,0,!1,null,null,!1,!1,"",wp);return e._reactRootContainer=l,e[Xt]=l.current,fs(e.nodeType===8?e.parentNode:e),lr(function(){ol(t,l,n,r)}),l}function ul(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Aa(o);a.call(l)}}ol(t,o,e,i)}else o=Cw(n,t,e,i,r);return Aa(o)}Vg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fi(t.pendingLanes);n!==0&&(Vh(t,n|1),et(t,he()),!(q&6)&&(ei=he()+500,Ln()))}break;case 13:lr(function(){var r=Yt(e,1);if(r!==null){var i=Ke();At(r,e,1,i)}}),df(e,1)}};Oh=function(e){if(e.tag===13){var t=Yt(e,134217728);if(t!==null){var n=Ke();At(t,e,134217728,n)}df(e,134217728)}};Og=function(e){if(e.tag===13){var t=En(e),n=Yt(e,t);if(n!==null){var r=Ke();At(n,e,t,r)}df(e,t)}};Lg=function(){return G};Mg=function(e,t){var n=G;try{return G=e,t()}finally{G=n}};tc=function(e,t,n){switch(t){case"input":if(Qu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Za(r);if(!i)throw Error(S(90));dg(r),Qu(r,i)}}}break;case"textarea":mg(e,n);break;case"select":t=n.value,t!=null&&Mr(e,!!n.multiple,t,!1)}};Tg=lf;Sg=lr;var Iw={usingClientEntryPoint:!1,Events:[Ws,Rr,Za,Eg,wg,lf]},Ni={findFiberByHostInstance:Kn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Aw={bundleType:Ni.bundleType,version:Ni.version,rendererPackageName:Ni.rendererPackageName,rendererConfig:Ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ag(e),e===null?null:e.stateNode},findFiberByHostInstance:Ni.findFiberByHostInstance||Sw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{Ga=Ro.inject(Aw),$t=Ro}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iw;ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mf(t))throw Error(S(200));return Tw(e,t,null,n)};ct.createRoot=function(e,t){if(!mf(e))throw Error(S(299));var n=!1,r="",i=sv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ff(e,1,!1,null,null,n,!1,r,i),e[Xt]=t.current,fs(e.nodeType===8?e.parentNode:e),new pf(t)};ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(S(188)):(e=Object.keys(e).join(","),Error(S(268,e)));return e=Ag(t),e=e===null?null:e.stateNode,e};ct.flushSync=function(e){return lr(e)};ct.hydrate=function(e,t,n){if(!ll(t))throw Error(S(200));return ul(null,e,t,!0,n)};ct.hydrateRoot=function(e,t,n){if(!mf(e))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=sv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=iv(t,null,e,1,n??null,i,!1,s,o),e[Xt]=t.current,fs(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new al(t)};ct.render=function(e,t,n){if(!ll(t))throw Error(S(200));return ul(null,e,t,!1,n)};ct.unmountComponentAtNode=function(e){if(!ll(e))throw Error(S(40));return e._reactRootContainer?(lr(function(){ul(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};ct.unstable_batchedUpdates=lf;ct.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ll(n))throw Error(S(200));if(e==null||e._reactInternals===void 0)throw Error(S(38));return ul(e,t,n,!1,r)};ct.version="18.2.0-next-9e3b772b8-20220608";function ov(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ov)}catch(e){console.error(e)}}ov(),ig.exports=ct;var Pw=ig.exports,Tp=Pw;zu.createRoot=Tp.createRoot,zu.hydrateRoot=Tp.hydrateRoot;var av={exports:{}},lv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ks=I;function Rw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kw=typeof Object.is=="function"?Object.is:Rw,xw=Ks.useSyncExternalStore,Nw=Ks.useRef,Dw=Ks.useEffect,Vw=Ks.useMemo,Ow=Ks.useDebugValue;lv.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=Nw(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Vw(function(){function l(g){if(!u){if(u=!0,c=g,g=r(g),i!==void 0&&o.hasValue){var y=o.value;if(i(y,g))return h=y}return h=g}if(y=h,kw(c,g))return y;var _=r(g);return i!==void 0&&i(y,_)?y:(c=g,h=_)}var u=!1,c,h,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=xw(e,s[0],s[1]);return Dw(function(){o.hasValue=!0,o.value=a},[a]),Ow(a),a};av.exports=lv;var Lw=av.exports,it="default"in Uu?Ft:Uu,Sp=Symbol.for("react-redux-context"),Cp=typeof globalThis<"u"?globalThis:{};function Mw(){if(!it.createContext)return{};const e=Cp[Sp]??(Cp[Sp]=new Map);let t=e.get(it.createContext);return t||(t=it.createContext(null),e.set(it.createContext,t)),t}var Rn=Mw(),Fw=()=>{throw new Error("uSES not initialized!")};function gf(e=Rn){return function(){return it.useContext(e)}}var uv=gf(),cv=Fw,$w=e=>{cv=e},jw=(e,t)=>e===t;function Uw(e=Rn){const t=e===Rn?uv:gf(e);return function(r,i={}){const{equalityFn:s=jw,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:h}=t();it.useRef(!0);const f=it.useCallback({[r.name](y){return r(y)}}[r.name],[r,c,o.stabilityCheck]),g=cv(l.addNestedSub,a.getState,u||a.getState,f,s);return it.useDebugValue(g),g}}var Qs=Uw();function zw(e){e()}function Bw(){let e=null,t=null;return{clear(){e=null,t=null},notify(){zw(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){let n=[],r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0,i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Ip={notify(){},get:()=>[]};function Hw(e,t){let n,r=Ip,i=0,s=!1;function o(_){c();const v=r.subscribe(_);let p=!1;return()=>{p||(p=!0,v(),h())}}function a(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function u(){return s}function c(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=Bw())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Ip)}function f(){s||(s=!0,c())}function g(){s&&(s=!1,h())}const y={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:g,getListeners:()=>r};return y}var bw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ww=bw?it.useLayoutEffect:it.useEffect;function qw({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=it.useMemo(()=>{const u=Hw(e);return{store:e,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[e,r,i,s]),a=it.useMemo(()=>e.getState(),[e]);Ww(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=t||Rn;return it.createElement(l.Provider,{value:o},n)}var Kw=qw;function hv(e=Rn){const t=e===Rn?uv:gf(e);return function(){const{store:r}=t();return r}}var Qw=hv();function Gw(e=Rn){const t=e===Rn?Qw:hv(e);return function(){return t().dispatch}}var di=Gw();$w(Lw.useSyncExternalStoreWithSelector);/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ws.apply(this,arguments)}var hn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hn||(hn={}));const Ap="popstate";function Xw(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:a="",hash:l=""}=gr(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Oc("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:Pa(s))}function r(i,s){cl(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Jw(t,n,r,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yw(){return Math.random().toString(36).substr(2,8)}function Pp(e,t){return{usr:e.state,key:e.key,idx:t}}function Oc(e,t,n,r){return n===void 0&&(n=null),ws({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gr(t):t,{state:n,key:t&&t.key||r||Yw()})}function Pa(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function gr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Jw(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=hn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(ws({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=hn.Pop;let v=c(),p=v==null?null:v-u;u=v,l&&l({action:a,location:_.location,delta:p})}function f(v,p){a=hn.Push;let d=Oc(_.location,v,p);n&&n(d,v),u=c()+1;let m=Pp(d,u),E=_.createHref(d);try{o.pushState(m,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(E)}s&&l&&l({action:a,location:_.location,delta:1})}function g(v,p){a=hn.Replace;let d=Oc(_.location,v,p);n&&n(d,v),u=c();let m=Pp(d,u),E=_.createHref(d);o.replaceState(m,"",E),s&&l&&l({action:a,location:_.location,delta:0})}function y(v){let p=i.location.origin!=="null"?i.location.origin:i.location.href,d=typeof v=="string"?v:Pa(v);return le(p,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,p)}let _={get action(){return a},get location(){return e(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ap,h),l=v,()=>{i.removeEventListener(Ap,h),l=null}},createHref(v){return t(i,v)},createURL:y,encodeLocation(v){let p=y(v);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:g,go(v){return o.go(v)}};return _}var Rp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Rp||(Rp={}));function Zw(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?gr(t):t,i=Ts(r.pathname||"/",n);if(i==null)return null;let s=fv(e);eT(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=uT(s[a],hT(i));return o}function fv(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(le(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Tn([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fv(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:aT(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of dv(s.path))i(s,o,l)}),t}function dv(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=dv(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function eT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:lT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const tT=/^:\w+$/,nT=3,rT=2,iT=1,sT=10,oT=-2,kp=e=>e==="*";function aT(e,t){let n=e.split("/"),r=n.length;return n.some(kp)&&(r+=oT),t&&(r+=rT),n.filter(i=>!kp(i)).reduce((i,s)=>i+(tT.test(s)?nT:s===""?iT:sT),r)}function lT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function uT(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=Lc({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:Tn([i,c.pathname]),pathnameBase:gT(Tn([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Tn([i,c.pathnameBase]))}return s}function Lc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=cT(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:f,isOptional:g}=c;if(f==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const y=a[h];return g&&!y?u[f]=void 0:u[f]=fT(y||"",f),u},{}),pathname:s,pathnameBase:o,pattern:e}}function cT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),cl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function hT(e){try{return decodeURI(e)}catch(t){return cl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fT(e,t){try{return decodeURIComponent(e)}catch(n){return cl(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Ts(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function dT(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?gr(e):e;return{pathname:n?n.startsWith("/")?n:pT(n,t):t,search:yT(r),hash:vT(i)}}function pT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _u(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pv(e,t){let n=mT(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mv(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=gr(e):(i=ws({},e),le(!i.pathname||!i.pathname.includes("?"),_u("?","pathname","search",i)),le(!i.pathname||!i.pathname.includes("#"),_u("#","pathname","hash",i)),le(!i.search||!i.search.includes("#"),_u("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?t[h]:"/"}let l=dT(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Tn=e=>e.join("/").replace(/\/\/+/g,"/"),gT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _T(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gv=["post","put","patch","delete"];new Set(gv);const ET=["get",...gv];new Set(ET);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ss.apply(this,arguments)}const hl=I.createContext(null),yv=I.createContext(null),Mn=I.createContext(null),fl=I.createContext(null),Fn=I.createContext({outlet:null,matches:[],isDataRoute:!1}),vv=I.createContext(null);function wT(e,t){let{relative:n}=t===void 0?{}:t;Gs()||le(!1);let{basename:r,navigator:i}=I.useContext(Mn),{hash:s,pathname:o,search:a}=dl(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Tn([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Gs(){return I.useContext(fl)!=null}function Xs(){return Gs()||le(!1),I.useContext(fl).location}function _v(e){I.useContext(Mn).static||I.useLayoutEffect(e)}function Ev(){let{isDataRoute:e}=I.useContext(Fn);return e?MT():TT()}function TT(){Gs()||le(!1);let e=I.useContext(hl),{basename:t,future:n,navigator:r}=I.useContext(Mn),{matches:i}=I.useContext(Fn),{pathname:s}=Xs(),o=JSON.stringify(pv(i,n.v7_relativeSplatPath)),a=I.useRef(!1);return _v(()=>{a.current=!0}),I.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=mv(u,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Tn([t,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[t,r,o,s,e])}const ST=I.createContext(null);function CT(e){let t=I.useContext(Fn).outlet;return t&&I.createElement(ST.Provider,{value:e},t)}function dl(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=I.useContext(Mn),{matches:i}=I.useContext(Fn),{pathname:s}=Xs(),o=JSON.stringify(pv(i,r.v7_relativeSplatPath));return I.useMemo(()=>mv(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function IT(e,t){return AT(e,t)}function AT(e,t,n,r){Gs()||le(!1);let{navigator:i}=I.useContext(Mn),{matches:s}=I.useContext(Fn),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Xs(),c;if(t){var h;let v=typeof t=="string"?gr(t):t;l==="/"||(h=v.pathname)!=null&&h.startsWith(l)||le(!1),c=v}else c=u;let f=c.pathname||"/",g=l==="/"?f:f.slice(l.length)||"/",y=Zw(e,{pathname:g}),_=NT(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:Tn([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Tn([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return t&&_?I.createElement(fl.Provider,{value:{location:Ss({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:hn.Pop}},_):_}function PT(){let e=LT(),t=_T(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),n?I.createElement("pre",{style:i},n):null,null)}const RT=I.createElement(PT,null);class kT extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?I.createElement(Fn.Provider,{value:this.props.routeContext},I.createElement(vv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xT(e){let{routeContext:t,match:n,children:r}=e,i=I.useContext(hl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(Fn.Provider,{value:t},r)}function NT(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if((s=n)!=null&&s.errors)e=n.matches;else return null}let o=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));c>=0||le(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:g}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,f)=>{let g,y=!1,_=null,v=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||RT,l&&(u<0&&f===0?(FT("route-fallback",!1),y=!0,v=null):u===f&&(y=!0,v=h.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),d=()=>{let m;return g?m=_:y?m=v:h.route.Component?m=I.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=c,I.createElement(xT,{match:h,routeContext:{outlet:c,matches:p,isDataRoute:n!=null},children:m})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?I.createElement(kT,{location:n.location,revalidation:n.revalidation,component:_,error:g,children:d(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):d()},null)}var wv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wv||{}),Ra=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ra||{});function DT(e){let t=I.useContext(hl);return t||le(!1),t}function VT(e){let t=I.useContext(yv);return t||le(!1),t}function OT(e){let t=I.useContext(Fn);return t||le(!1),t}function Tv(e){let t=OT(),n=t.matches[t.matches.length-1];return n.route.id||le(!1),n.route.id}function LT(){var e;let t=I.useContext(vv),n=VT(Ra.UseRouteError),r=Tv(Ra.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function MT(){let{router:e}=DT(wv.UseNavigateStable),t=Tv(Ra.UseNavigateStable),n=I.useRef(!1);return _v(()=>{n.current=!0}),I.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ss({fromRouteId:t},s)))},[e,t])}const xp={};function FT(e,t,n){!t&&!xp[e]&&(xp[e]=!0)}function $T(e){return CT(e.context)}function bn(e){le(!1)}function jT(e){let{basename:t="/",children:n=null,location:r,navigationType:i=hn.Pop,navigator:s,static:o=!1,future:a}=e;Gs()&&le(!1);let l=t.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:l,navigator:s,static:o,future:Ss({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=gr(r));let{pathname:c="/",search:h="",hash:f="",state:g=null,key:y="default"}=r,_=I.useMemo(()=>{let v=Ts(c,l);return v==null?null:{location:{pathname:v,search:h,hash:f,state:g,key:y},navigationType:i}},[l,c,h,f,g,y,i]);return _==null?null:I.createElement(Mn.Provider,{value:u},I.createElement(fl.Provider,{children:n,value:_}))}function UT(e){let{children:t,location:n}=e;return IT(Mc(t),n)}new Promise(()=>{});function Mc(e,t){t===void 0&&(t=[]);let n=[];return I.Children.forEach(e,(r,i)=>{if(!I.isValidElement(r))return;let s=[...t,i];if(r.type===I.Fragment){n.push.apply(n,Mc(r.props.children,s));return}r.type!==bn&&le(!1),!r.props.index||!r.props.children||le(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Mc(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ka.apply(this,arguments)}function Sv(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function zT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BT(e,t){return e.button===0&&(!t||t==="_self")&&!zT(e)}const HT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],bT=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],WT=I.createContext({isTransitioning:!1}),qT="startTransition",Np=Uu[qT];function KT(e){let{basename:t,children:n,future:r,window:i}=e,s=I.useRef();s.current==null&&(s.current=Xw({window:i,v5Compat:!0}));let o=s.current,[a,l]=I.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=I.useCallback(h=>{u&&Np?Np(()=>l(h)):l(h)},[l,u]);return I.useLayoutEffect(()=>o.listen(c),[o,c]),I.createElement(jT,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const QT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cv=I.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=t,f=Sv(t,HT),{basename:g}=I.useContext(Mn),y,_=!1;if(typeof u=="string"&&GT.test(u)&&(y=u,QT))try{let m=new URL(window.location.href),E=u.startsWith("//")?new URL(m.protocol+u):new URL(u),C=Ts(E.pathname,g);E.origin===m.origin&&C!=null?u=C+E.search+E.hash:_=!0}catch{}let v=wT(u,{relative:i}),p=YT(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function d(m){r&&r(m),m.defaultPrevented||p(m)}return I.createElement("a",ka({},f,{href:y||v,onClick:_||s?r:d,ref:n,target:l}))}),ko=I.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:c}=t,h=Sv(t,bT),f=dl(l,{relative:h.relative}),g=Xs(),y=I.useContext(yv),{navigator:_}=I.useContext(Mn),v=y!=null&&JT(f)&&u===!0,p=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,d=g.pathname,m=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(d=d.toLowerCase(),m=m?m.toLowerCase():null,p=p.toLowerCase());const E=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let C=d===p||!o&&d.startsWith(p)&&d.charAt(E)==="/",R=m!=null&&(m===p||!o&&m.startsWith(p)&&m.charAt(p.length)==="/"),k={isActive:C,isPending:R,isTransitioning:v},V=C?r:void 0,Y;typeof s=="function"?Y=s(k):Y=[s,C?"active":null,R?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(k):a;return I.createElement(Cv,ka({},h,{"aria-current":V,className:Y,ref:n,style:U,to:l,unstable_viewTransition:u}),typeof c=="function"?c(k):c)});var Fc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fc||(Fc={}));var Dp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dp||(Dp={}));function XT(e){let t=I.useContext(hl);return t||le(!1),t}function YT(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=Ev(),u=Xs(),c=dl(e,{relative:o});return I.useCallback(h=>{if(BT(h,n)){h.preventDefault();let f=r!==void 0?r:Pa(u)===Pa(c);l(e,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,e,s,o,a])}function JT(e,t){t===void 0&&(t={});let n=I.useContext(WT);n==null&&le(!1);let{basename:r}=XT(Fc.useViewTransitionState),i=dl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Ts(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ts(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lc(i.pathname,o)!=null||Lc(i.pathname,s)!=null}var Vp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ZT=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(f=64)),r.push(n[c],n[h],n[f],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Iv(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ZT(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new eS;const f=s<<2|a>>4;if(r.push(f),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class eS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tS=function(e){const t=Iv(e);return Av.encodeByteArray(t,!0)},xa=function(e){return tS(e).replace(/\./g,"")},nS=function(e){try{return Av.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=()=>rS().__FIREBASE_DEFAULTS__,sS=()=>{if(typeof process>"u"||typeof Vp>"u")return;const e=Vp.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},oS=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&nS(e[1]);return t&&JSON.parse(t)},Pv=()=>{try{return iS()||sS()||oS()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},aS=e=>{var t,n;return(n=(t=Pv())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},lS=e=>{const t=aS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Rv=()=>{var e;return(e=Pv())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[xa(JSON.stringify(n)),xa(JSON.stringify(o)),""].join(".")}function hS(){try{return typeof indexedDB=="object"}catch{return!1}}function fS(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="FirebaseError";class pi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=dS,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kv.prototype.create)}}class kv{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?pS(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new pi(i,a,r)}}function pS(e,t){return e.replace(mS,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const mS=/\{\$([^}]+)}/g;function $c(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(Op(s)&&Op(o)){if(!$c(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Op(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(e){return e&&e._delegate?e._delegate:e}class Cs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new uS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(_S(t))try{this.getOrInitializeService({instanceIdentifier:Wn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Wn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wn){return this.instances.has(t)}getOptions(t=Wn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vS(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Wn){return this.component?this.component.multipleInstances?t:Wn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vS(e){return e===Wn?void 0:e}function _S(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new yS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(b||(b={}));const wS={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},TS=b.INFO,SS={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},CS=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=SS[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xv{constructor(t){this.name=t,this._logLevel=TS,this._logHandler=CS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in b))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...t),this._logHandler(this,b.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...t),this._logHandler(this,b.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,b.INFO,...t),this._logHandler(this,b.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,b.WARN,...t),this._logHandler(this,b.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...t),this._logHandler(this,b.ERROR,...t)}}const IS=(e,t)=>t.some(n=>e instanceof n);let Lp,Mp;function AS(){return Lp||(Lp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PS(){return Mp||(Mp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nv=new WeakMap,jc=new WeakMap,Dv=new WeakMap,Eu=new WeakMap,yf=new WeakMap;function RS(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Sn(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Nv.set(n,e)}).catch(()=>{}),yf.set(t,e),t}function kS(e){if(jc.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});jc.set(e,t)}let Uc={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return jc.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Dv.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function xS(e){Uc=e(Uc)}function NS(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(wu(this),t,...n);return Dv.set(r,t.sort?t.sort():[t]),Sn(r)}:PS().includes(e)?function(...t){return e.apply(wu(this),t),Sn(Nv.get(this))}:function(...t){return Sn(e.apply(wu(this),t))}}function DS(e){return typeof e=="function"?NS(e):(e instanceof IDBTransaction&&kS(e),IS(e,AS())?new Proxy(e,Uc):e)}function Sn(e){if(e instanceof IDBRequest)return RS(e);if(Eu.has(e))return Eu.get(e);const t=DS(e);return t!==e&&(Eu.set(e,t),yf.set(t,e)),t}const wu=e=>yf.get(e);function VS(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Sn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Sn(o.result),l.oldVersion,l.newVersion,Sn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const OS=["get","getKey","getAll","getAllKeys","count"],LS=["put","add","delete","clear"],Tu=new Map;function Fp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Tu.get(t))return Tu.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=LS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||OS.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Tu.set(t,s),s}xS(e=>({...e,get:(t,n,r)=>Fp(t,n)||e.get(t,n,r),has:(t,n)=>!!Fp(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FS(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const zc="@firebase/app",$p="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new xv("@firebase/app"),$S="@firebase/app-compat",jS="@firebase/analytics-compat",US="@firebase/analytics",zS="@firebase/app-check-compat",BS="@firebase/app-check",HS="@firebase/auth",bS="@firebase/auth-compat",WS="@firebase/database",qS="@firebase/database-compat",KS="@firebase/functions",QS="@firebase/functions-compat",GS="@firebase/installations",XS="@firebase/installations-compat",YS="@firebase/messaging",JS="@firebase/messaging-compat",ZS="@firebase/performance",eC="@firebase/performance-compat",tC="@firebase/remote-config",nC="@firebase/remote-config-compat",rC="@firebase/storage",iC="@firebase/storage-compat",sC="@firebase/firestore",oC="@firebase/firestore-compat",aC="firebase",lC="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc="[DEFAULT]",uC={[zc]:"fire-core",[$S]:"fire-core-compat",[US]:"fire-analytics",[jS]:"fire-analytics-compat",[BS]:"fire-app-check",[zS]:"fire-app-check-compat",[HS]:"fire-auth",[bS]:"fire-auth-compat",[WS]:"fire-rtdb",[qS]:"fire-rtdb-compat",[KS]:"fire-fn",[QS]:"fire-fn-compat",[GS]:"fire-iid",[XS]:"fire-iid-compat",[YS]:"fire-fcm",[JS]:"fire-fcm-compat",[ZS]:"fire-perf",[eC]:"fire-perf-compat",[tC]:"fire-rc",[nC]:"fire-rc-compat",[rC]:"fire-gcs",[iC]:"fire-gcs-compat",[sC]:"fire-fst",[oC]:"fire-fst-compat","fire-js":"fire-js",[aC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Map,Hc=new Map;function cC(e,t){try{e.container.addComponent(t)}catch(n){ur.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Da(e){const t=e.name;if(Hc.has(t))return ur.debug(`There were multiple attempts to register component ${t}.`),!1;Hc.set(t,e);for(const n of Na.values())cC(n,e);return!0}function hC(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Cn=new kv("app","Firebase",fC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Cn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=lC;function Vv(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Bc,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Cn.create("bad-app-name",{appName:String(i)});if(n||(n=Rv()),!n)throw Cn.create("no-options");const s=Na.get(i);if(s){if($c(n,s.options)&&$c(r,s.config))return s;throw Cn.create("duplicate-app",{appName:i})}const o=new ES(i);for(const l of Hc.values())o.addComponent(l);const a=new dC(n,r,o);return Na.set(i,a),a}function mC(e=Bc){const t=Na.get(e);if(!t&&e===Bc&&Rv())return Vv();if(!t)throw Cn.create("no-app",{appName:e});return t}function Br(e,t,n){var r;let i=(r=uC[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ur.warn(a.join(" "));return}Da(new Cs(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="firebase-heartbeat-database",yC=1,Is="firebase-heartbeat-store";let Su=null;function Ov(){return Su||(Su=VS(gC,yC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Is)}}}).catch(e=>{throw Cn.create("idb-open",{originalErrorMessage:e.message})})),Su}async function vC(e){try{return await(await Ov()).transaction(Is).objectStore(Is).get(Lv(e))}catch(t){if(t instanceof pi)ur.warn(t.message);else{const n=Cn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ur.warn(n.message)}}}async function jp(e,t){try{const r=(await Ov()).transaction(Is,"readwrite");await r.objectStore(Is).put(t,Lv(e)),await r.done}catch(n){if(n instanceof pi)ur.warn(n.message);else{const r=Cn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ur.warn(r.message)}}}function Lv(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=1024,EC=30*24*60*60*1e3;class wC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Up();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=EC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Up(),{heartbeatsToSend:r,unsentEntries:i}=TC(this._heartbeatsCache.heartbeats),s=xa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Up(){return new Date().toISOString().substring(0,10)}function TC(e,t=_C){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zp(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zp(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class SC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hS()?fS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jp(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function zp(e){return xa(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(e){Da(new Cs("platform-logger",t=>new MS(t),"PRIVATE")),Da(new Cs("heartbeat",t=>new wC(t),"PRIVATE")),Br(zc,$p,e),Br(zc,$p,"esm2017"),Br("fire-js","")}CC("");var IC="firebase",AC="10.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(IC,AC,"app");var PC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},P,vf=vf||{},M=PC||self;function pl(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ys(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function RC(e){return Object.prototype.hasOwnProperty.call(e,Cu)&&e[Cu]||(e[Cu]=++kC)}var Cu="closure_uid_"+(1e9*Math.random()>>>0),kC=0;function xC(e,t,n){return e.call.apply(e.bind,arguments)}function NC(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Ue(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ue=xC:Ue=NC,Ue.apply(null,arguments)}function xo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Ie(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function $n(){this.s=this.s,this.o=this.o}var DC=0;$n.prototype.s=!1;$n.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),DC!=0)&&RC(this)};$n.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Mv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function _f(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Bp(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(pl(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function ze(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var VC=function(){if(!M.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};M.addEventListener("test",n,t),M.removeEventListener("test",n,t)}catch{}return e}();function As(e){return/^[\s\xa0]*$/.test(e)}function ml(){var e=M.navigator;return e&&(e=e.userAgent)?e:""}function Vt(e){return ml().indexOf(e)!=-1}function Ef(e){return Ef[" "](e),e}Ef[" "]=function(){};function OC(e,t){var n=AI;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var LC=Vt("Opera"),ti=Vt("Trident")||Vt("MSIE"),Fv=Vt("Edge"),bc=Fv||ti,$v=Vt("Gecko")&&!(ml().toLowerCase().indexOf("webkit")!=-1&&!Vt("Edge"))&&!(Vt("Trident")||Vt("MSIE"))&&!Vt("Edge"),MC=ml().toLowerCase().indexOf("webkit")!=-1&&!Vt("Edge");function jv(){var e=M.document;return e?e.documentMode:void 0}var Wc;e:{var Iu="",Au=function(){var e=ml();if($v)return/rv:([^\);]+)(\)|;)/.exec(e);if(Fv)return/Edge\/([\d\.]+)/.exec(e);if(ti)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(MC)return/WebKit\/(\S+)/.exec(e);if(LC)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Au&&(Iu=Au?Au[1]:""),ti){var Pu=jv();if(Pu!=null&&Pu>parseFloat(Iu)){Wc=String(Pu);break e}}Wc=Iu}var qc;if(M.document&&ti){var Hp=jv();qc=Hp||parseInt(Wc,10)||void 0}else qc=void 0;var FC=qc;function Ps(e,t){if(ze.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if($v){e:{try{Ef(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:$C[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ps.$.h.call(this)}}Ie(Ps,ze);var $C={2:"touch",3:"pen",4:"mouse"};Ps.prototype.h=function(){Ps.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Js="closure_listenable_"+(1e6*Math.random()|0),jC=0;function UC(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++jC,this.fa=this.ia=!1}function gl(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function wf(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function zC(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Uv(e){const t={};for(const n in e)t[n]=e[n];return t}const bp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zv(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<bp.length;s++)n=bp[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function yl(e){this.src=e,this.g={},this.h=0}yl.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=Qc(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new UC(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Kc(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=Mv(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(gl(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Qc(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var Tf="closure_lm_"+(1e6*Math.random()|0),Ru={};function Bv(e,t,n,r,i){if(r&&r.once)return bv(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Bv(e,t[s],n,r,i);return null}return n=If(n),e&&e[Js]?e.O(t,n,Ys(r)?!!r.capture:!!r,i):Hv(e,t,n,!1,r,i)}function Hv(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Ys(i)?!!i.capture:!!i,a=Cf(e);if(a||(e[Tf]=a=new yl(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=BC(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)VC||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(qv(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function BC(){function e(n){return t.call(e.src,e.listener,n)}const t=HC;return e}function bv(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)bv(e,t[s],n,r,i);return null}return n=If(n),e&&e[Js]?e.P(t,n,Ys(r)?!!r.capture:!!r,i):Hv(e,t,n,!0,r,i)}function Wv(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Wv(e,t[s],n,r,i);else r=Ys(r)?!!r.capture:!!r,n=If(n),e&&e[Js]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Qc(s,n,r,i),-1<n&&(gl(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Cf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Qc(t,n,r,i)),(n=-1<e?t[e]:null)&&Sf(n))}function Sf(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Js])Kc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(qv(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Cf(t))?(Kc(n,e),n.h==0&&(n.src=null,t[Tf]=null)):gl(e)}}}function qv(e){return e in Ru?Ru[e]:Ru[e]="on"+e}function HC(e,t){if(e.fa)e=!0;else{t=new Ps(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Sf(e),e=n.call(r,t)}return e}function Cf(e){return e=e[Tf],e instanceof yl?e:null}var ku="__closure_events_fn_"+(1e9*Math.random()>>>0);function If(e){return typeof e=="function"?e:(e[ku]||(e[ku]=function(t){return e.handleEvent(t)}),e[ku])}function Ce(){$n.call(this),this.i=new yl(this),this.S=this,this.J=null}Ie(Ce,$n);Ce.prototype[Js]=!0;Ce.prototype.removeEventListener=function(e,t,n,r){Wv(this,e,t,n,r)};function Ne(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new ze(t,e);else if(t instanceof ze)t.target=t.target||e;else{var i=t;t=new ze(r,e),zv(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=No(o,r,!0,t)&&i}if(o=t.g=e,i=No(o,r,!0,t)&&i,i=No(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=No(o,r,!1,t)&&i}Ce.prototype.N=function(){if(Ce.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)gl(n[r]);delete e.g[t],e.h--}}this.J=null};Ce.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Ce.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function No(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Kc(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Af=M.JSON.stringify;class bC{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function WC(){var e=Pf;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class qC{constructor(){this.h=this.g=null}add(t,n){const r=Kv.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Kv=new bC(()=>new KC,e=>e.reset());class KC{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function QC(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function GC(e){M.setTimeout(()=>{throw e},0)}let Rs,ks=!1,Pf=new qC,Qv=()=>{const e=M.Promise.resolve(void 0);Rs=()=>{e.then(XC)}};var XC=()=>{for(var e;e=WC();){try{e.h.call(e.g)}catch(n){GC(n)}var t=Kv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ks=!1};function vl(e,t){Ce.call(this),this.h=e||1,this.g=t||M,this.j=Ue(this.qb,this),this.l=Date.now()}Ie(vl,Ce);P=vl.prototype;P.ga=!1;P.T=null;P.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ne(this,"tick"),this.ga&&(Rf(this),this.start()))}};P.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Rf(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}P.N=function(){vl.$.N.call(this),Rf(this),delete this.g};function kf(e,t,n){if(typeof e=="function")n&&(e=Ue(e,n));else if(e&&typeof e.handleEvent=="function")e=Ue(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:M.setTimeout(e,t||0)}function Gv(e){e.g=kf(()=>{e.g=null,e.i&&(e.i=!1,Gv(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class YC extends $n{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Gv(this)}N(){super.N(),this.g&&(M.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(e){$n.call(this),this.h=e,this.g={}}Ie(xs,$n);var Wp=[];function Xv(e,t,n,r){Array.isArray(n)||(n&&(Wp[0]=n.toString()),n=Wp);for(var i=0;i<n.length;i++){var s=Bv(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Yv(e){wf(e.g,function(t,n){this.g.hasOwnProperty(n)&&Sf(t)},e),e.g={}}xs.prototype.N=function(){xs.$.N.call(this),Yv(this)};xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function _l(){this.g=!0}_l.prototype.Ea=function(){this.g=!1};function JC(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function ZC(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Lr(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+tI(e,n)+(r?" "+r:"")})}function eI(e,t){e.info(function(){return"TIMEOUT: "+t})}_l.prototype.info=function(){};function tI(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Af(n)}catch{return t}}var yr={},qp=null;function El(){return qp=qp||new Ce}yr.Ta="serverreachability";function Jv(e){ze.call(this,yr.Ta,e)}Ie(Jv,ze);function Ns(e){const t=El();Ne(t,new Jv(t))}yr.STAT_EVENT="statevent";function Zv(e,t){ze.call(this,yr.STAT_EVENT,e),this.stat=t}Ie(Zv,ze);function qe(e){const t=El();Ne(t,new Zv(t,e))}yr.Ua="timingevent";function e_(e,t){ze.call(this,yr.Ua,e),this.size=t}Ie(e_,ze);function Zs(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return M.setTimeout(function(){e()},t)}var wl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},t_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xf(){}xf.prototype.h=null;function Kp(e){return e.h||(e.h=e.i())}function n_(){}var eo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Nf(){ze.call(this,"d")}Ie(Nf,ze);function Df(){ze.call(this,"c")}Ie(Df,ze);var Gc;function Tl(){}Ie(Tl,xf);Tl.prototype.g=function(){return new XMLHttpRequest};Tl.prototype.i=function(){return{}};Gc=new Tl;function to(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new xs(this),this.P=nI,e=bc?125:void 0,this.V=new vl(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new r_}function r_(){this.i=null,this.g="",this.h=!1}var nI=45e3,i_={},Xc={};P=to.prototype;P.setTimeout=function(e){this.P=e};function Yc(e,t,n){e.L=1,e.A=Cl(Zt(t)),e.u=n,e.S=!0,s_(e,null)}function s_(e,t){e.G=Date.now(),no(e),e.B=Zt(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),d_(n.i,"t",r),e.o=0,n=e.l.J,e.h=new r_,e.g=O_(e.l,n?t:null,!e.u),0<e.O&&(e.M=new YC(Ue(e.Pa,e,e.g),e.O)),Xv(e.U,e.g,"readystatechange",e.nb),t=e.I?Uv(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Ns(),JC(e.j,e.v,e.B,e.m,e.W,e.u)}P.nb=function(e){e=e.target;const t=this.M;t&&Lt(e)==3?t.l():this.Pa(e)};P.Pa=function(e){try{if(e==this.g)e:{const c=Lt(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||bc||this.g&&(this.h.h||this.g.ja()||Yp(this.g)))){this.J||c!=4||t==7||(t==8||0>=h?Ns(3):Ns(2)),Sl(this);var n=this.g.da();this.ca=n;t:if(o_(this)){var r=Yp(this.g);e="";var i=r.length,s=Lt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xn(this),Zi(this);var o="";break t}this.h.i=new M.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,ZC(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!As(a)){var u=a;break t}}u=null}if(n=u)Lr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jc(this,n);else{this.i=!1,this.s=3,qe(12),Xn(this),Zi(this);break e}}this.S?(a_(this,c,o),bc&&this.i&&c==3&&(Xv(this.U,this.V,"tick",this.mb),this.V.start())):(Lr(this.j,this.m,o,null),Jc(this,o)),c==4&&Xn(this),this.i&&!this.J&&(c==4?x_(this.l,this):(this.i=!1,no(this)))}else SI(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,qe(12)):(this.s=0,qe(13)),Xn(this),Zi(this)}}}catch{}finally{}};function o_(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function a_(e,t,n){let r=!0,i;for(;!e.J&&e.o<n.length;)if(i=rI(e,n),i==Xc){t==4&&(e.s=4,qe(14),r=!1),Lr(e.j,e.m,null,"[Incomplete Response]");break}else if(i==i_){e.s=4,qe(15),Lr(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Lr(e.j,e.m,i,null),Jc(e,i);o_(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,qe(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),$f(t),t.M=!0,qe(11))):(Lr(e.j,e.m,n,"[Invalid Chunked Response]"),Xn(e),Zi(e))}P.mb=function(){if(this.g){var e=Lt(this.g),t=this.g.ja();this.o<t.length&&(Sl(this),a_(this,e,t),this.i&&e!=4&&no(this))}};function rI(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?Xc:(n=Number(t.substring(n,r)),isNaN(n)?i_:(r+=1,r+n>t.length?Xc:(t=t.slice(r,r+n),e.o=r+n,t)))}P.cancel=function(){this.J=!0,Xn(this)};function no(e){e.Y=Date.now()+e.P,l_(e,e.P)}function l_(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Zs(Ue(e.lb,e),t)}function Sl(e){e.C&&(M.clearTimeout(e.C),e.C=null)}P.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(eI(this.j,this.B),this.L!=2&&(Ns(),qe(17)),Xn(this),this.s=2,Zi(this)):l_(this,this.Y-e)};function Zi(e){e.l.H==0||e.J||x_(e.l,e)}function Xn(e){Sl(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Rf(e.V),Yv(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Jc(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Zc(n.i,e))){if(!e.K&&Zc(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)La(n),Rl(n);else break e;Ff(n),qe(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Zs(Ue(n.ib,n),6e3));if(1>=g_(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Yn(n,11)}else if((e.K||n.g==e)&&La(n),!As(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=e.g;if(g){const y=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Vf(s,s.h),s.h=null))}if(r.F){const _=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,ee(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=V_(r,r.J?r.pa:null,r.Y),o.K){y_(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Sl(a),no(a)),r.g=o}else R_(r);0<n.j.length&&kl(n)}else u[0]!="stop"&&u[0]!="close"||Yn(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Yn(n,7):Mf(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ns(4)}catch{}}function iI(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(pl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function sI(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(pl(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function u_(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(pl(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=sI(e),r=iI(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var c_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oI(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function tr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof tr){this.h=e.h,Va(this,e.j),this.s=e.s,this.g=e.g,Oa(this,e.m),this.l=e.l;var t=e.i,n=new Ds;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Qp(this,n),this.o=e.o}else e&&(t=String(e).match(c_))?(this.h=!1,Va(this,t[1]||"",!0),this.s=ji(t[2]||""),this.g=ji(t[3]||"",!0),Oa(this,t[4]),this.l=ji(t[5]||"",!0),Qp(this,t[6]||"",!0),this.o=ji(t[7]||"")):(this.h=!1,this.i=new Ds(null,this.h))}tr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ui(t,Gp,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ui(t,Gp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Ui(n,n.charAt(0)=="/"?uI:lI,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ui(n,hI)),e.join("")};function Zt(e){return new tr(e)}function Va(e,t,n){e.j=n?ji(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Oa(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Qp(e,t,n){t instanceof Ds?(e.i=t,fI(e.i,e.h)):(n||(t=Ui(t,cI)),e.i=new Ds(t,e.h))}function ee(e,t,n){e.i.set(t,n)}function Cl(e){return ee(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ji(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ui(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,aI),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function aI(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Gp=/[#\/\?@]/g,lI=/[#\?:]/g,uI=/[#\?]/g,cI=/[#\?@]/g,hI=/#/g;function Ds(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function jn(e){e.g||(e.g=new Map,e.h=0,e.i&&oI(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}P=Ds.prototype;P.add=function(e,t){jn(this),this.i=null,e=mi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function h_(e,t){jn(e),t=mi(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function f_(e,t){return jn(e),t=mi(e,t),e.g.has(t)}P.forEach=function(e,t){jn(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};P.ta=function(){jn(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};P.Z=function(e){jn(this);let t=[];if(typeof e=="string")f_(this,e)&&(t=t.concat(this.g.get(mi(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};P.set=function(e,t){return jn(this),this.i=null,e=mi(this,e),f_(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};P.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function d_(e,t,n){h_(e,t),0<n.length&&(e.i=null,e.g.set(mi(e,t),_f(n)),e.h+=n.length)}P.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function mi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function fI(e,t){t&&!e.j&&(jn(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(h_(this,r),d_(this,i,n))},e)),e.j=t}var dI=class{constructor(e,t){this.g=e,this.map=t}};function p_(e){this.l=e||pI,M.PerformanceNavigationTiming?(e=M.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(M.g&&M.g.Ka&&M.g.Ka()&&M.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pI=10;function m_(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function g_(e){return e.h?1:e.g?e.g.size:0}function Zc(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Vf(e,t){e.g?e.g.add(t):e.h=t}function y_(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}p_.prototype.cancel=function(){if(this.i=v_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function v_(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return _f(e.i)}var mI=class{stringify(e){return M.JSON.stringify(e,void 0)}parse(e){return M.JSON.parse(e,void 0)}};function gI(){this.g=new mI}function yI(e,t,n){const r=n||"";try{u_(e,function(i,s){let o=i;Ys(i)&&(o=Af(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vI(e,t){const n=new _l;if(M.Image){const r=new Image;r.onload=xo(Do,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xo(Do,n,r,"TestLoadImage: error",!1,t),r.onabort=xo(Do,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xo(Do,n,r,"TestLoadImage: timeout",!1,t),M.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Do(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Il(e){this.l=e.ec||null,this.j=e.ob||!1}Ie(Il,xf);Il.prototype.g=function(){return new Al(this.l,this.j)};Il.prototype.i=function(e){return function(){return e}}({});function Al(e,t){Ce.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Of,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ie(Al,Ce);var Of=0;P=Al.prototype;P.open=function(e,t){if(this.readyState!=Of)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vs(this)};P.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||M).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ro(this)),this.readyState=Of};P.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vs(this)),this.g&&(this.readyState=3,Vs(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof M.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;__(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function __(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}P.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ro(this):Vs(this),this.readyState==3&&__(this)}};P.Za=function(e){this.g&&(this.response=this.responseText=e,ro(this))};P.Ya=function(e){this.g&&(this.response=e,ro(this))};P.ka=function(){this.g&&ro(this)};function ro(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vs(e)}P.setRequestHeader=function(e,t){this.v.append(e,t)};P.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};P.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Vs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var _I=M.JSON.parse;function ue(e){Ce.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=E_,this.L=this.M=!1}Ie(ue,Ce);var E_="",EI=/^https?$/i,wI=["POST","PUT"];P=ue.prototype;P.Oa=function(e){this.M=e};P.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Gc.g(),this.C=this.u?Kp(this.u):Kp(Gc),this.g.onreadystatechange=Ue(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){Xp(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=M.FormData&&e instanceof M.FormData,!(0<=Mv(wI,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{S_(this),0<this.B&&((this.L=TI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ue(this.ua,this)):this.A=kf(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Xp(this,s)}};function TI(e){return ti&&typeof e.timeout=="number"&&e.ontimeout!==void 0}P.ua=function(){typeof vf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ne(this,"timeout"),this.abort(8))};function Xp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,w_(e),Pl(e)}function w_(e){e.F||(e.F=!0,Ne(e,"complete"),Ne(e,"error"))}P.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ne(this,"complete"),Ne(this,"abort"),Pl(this))};P.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pl(this,!0)),ue.$.N.call(this)};P.La=function(){this.s||(this.G||this.v||this.l?T_(this):this.kb())};P.kb=function(){T_(this)};function T_(e){if(e.h&&typeof vf<"u"&&(!e.C[1]||Lt(e)!=4||e.da()!=2)){if(e.v&&Lt(e)==4)kf(e.La,0,e);else if(Ne(e,"readystatechange"),Lt(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(c_)[1]||null;!i&&M.self&&M.self.location&&(i=M.self.location.protocol.slice(0,-1)),r=!EI.test(i?i.toLowerCase():"")}n=r}if(n)Ne(e,"complete"),Ne(e,"success");else{e.m=6;try{var s=2<Lt(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",w_(e)}}finally{Pl(e)}}}}function Pl(e,t){if(e.g){S_(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ne(e,"ready");try{n.onreadystatechange=r}catch{}}}function S_(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(M.clearTimeout(e.A),e.A=null)}P.isActive=function(){return!!this.g};function Lt(e){return e.g?e.g.readyState:0}P.da=function(){try{return 2<Lt(this)?this.g.status:-1}catch{return-1}};P.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};P.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),_I(t)}};function Yp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case E_:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function SI(e){const t={};e=(e.g&&2<=Lt(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(As(e[r]))continue;var n=QC(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}zC(t,function(r){return r.join(", ")})}P.Ia=function(){return this.m};P.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function C_(e){let t="";return wf(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Lf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=C_(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ee(e,t,n))}function Di(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function I_(e){this.Ga=0,this.j=[],this.l=new _l,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Di("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Di("baseRetryDelayMs",5e3,e),this.hb=Di("retryDelaySeedMs",1e4,e),this.eb=Di("forwardChannelMaxRetries",2,e),this.xa=Di("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new p_(e&&e.concurrentRequestLimit),this.Ja=new gI,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}P=I_.prototype;P.ra=8;P.H=1;function Mf(e){if(A_(e),e.H==3){var t=e.W++,n=Zt(e.I);if(ee(n,"SID",e.K),ee(n,"RID",t),ee(n,"TYPE","terminate"),io(e,n),t=new to(e,e.l,t),t.L=2,t.A=Cl(Zt(n)),n=!1,M.navigator&&M.navigator.sendBeacon)try{n=M.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&M.Image&&(new Image().src=t.A,n=!0),n||(t.g=O_(t.l,null),t.g.ha(t.A)),t.G=Date.now(),no(t)}D_(e)}function Rl(e){e.g&&($f(e),e.g.cancel(),e.g=null)}function A_(e){Rl(e),e.u&&(M.clearTimeout(e.u),e.u=null),La(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&M.clearTimeout(e.m),e.m=null)}function kl(e){if(!m_(e.i)&&!e.m){e.m=!0;var t=e.Na;Rs||Qv(),ks||(Rs(),ks=!0),Pf.add(t,e),e.C=0}}function CI(e,t){return g_(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Zs(Ue(e.Na,e,t),N_(e,e.C)),e.C++,!0)}P.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new to(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Uv(s),zv(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=P_(this,i,t),n=Zt(this.I),ee(n,"RID",e),ee(n,"CVER",22),this.F&&ee(n,"X-HTTP-Session-Id",this.F),io(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(C_(s)))+"&"+t:this.o&&Lf(n,this.o,s)),Vf(this.i,i),this.bb&&ee(n,"TYPE","init"),this.P?(ee(n,"$req",t),ee(n,"SID","null"),i.aa=!0,Yc(i,n,null)):Yc(i,n,t),this.H=2}}else this.H==3&&(e?Jp(this,e):this.j.length==0||m_(this.i)||Jp(this))};function Jp(e,t){var n;t?n=t.m:n=e.W++;const r=Zt(e.I);ee(r,"SID",e.K),ee(r,"RID",n),ee(r,"AID",e.V),io(e,r),e.o&&e.s&&Lf(r,e.o,e.s),n=new to(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=P_(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Vf(e.i,n),Yc(n,r,t)}function io(e,t){e.na&&wf(e.na,function(n,r){ee(t,r,n)}),e.h&&u_({},function(n,r){ee(t,r,n)})}function P_(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ue(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{yI(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function R_(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Rs||Qv(),ks||(Rs(),ks=!0),Pf.add(t,e),e.A=0}}function Ff(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Zs(Ue(e.Ma,e),N_(e,e.A)),e.A++,!0)}P.Ma=function(){if(this.u=null,k_(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Zs(Ue(this.jb,this),e)}};P.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,qe(10),Rl(this),k_(this))};function $f(e){e.B!=null&&(M.clearTimeout(e.B),e.B=null)}function k_(e){e.g=new to(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Zt(e.wa);ee(t,"RID","rpc"),ee(t,"SID",e.K),ee(t,"AID",e.V),ee(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ee(t,"TO",e.qa),ee(t,"TYPE","xmlhttp"),io(e,t),e.o&&e.s&&Lf(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Cl(Zt(t)),n.u=null,n.S=!0,s_(n,e)}P.ib=function(){this.v!=null&&(this.v=null,Rl(this),Ff(this),qe(19))};function La(e){e.v!=null&&(M.clearTimeout(e.v),e.v=null)}function x_(e,t){var n=null;if(e.g==t){La(e),$f(e),e.g=null;var r=2}else if(Zc(e.i,t))n=t.F,y_(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;r=El(),Ne(r,new e_(r,n)),kl(e)}else R_(e);else if(i=t.s,i==3||i==0&&0<t.ca||!(r==1&&CI(e,t)||r==2&&Ff(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Yn(e,5);break;case 4:Yn(e,10);break;case 3:Yn(e,6);break;default:Yn(e,2)}}}function N_(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Yn(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Ue(e.pb,e);n||(n=new tr("//www.google.com/images/cleardot.gif"),M.location&&M.location.protocol=="http"||Va(n,"https"),Cl(n)),vI(n.toString(),r)}else qe(2);e.H=0,e.h&&e.h.za(t),D_(e),A_(e)}P.pb=function(e){e?(this.l.info("Successfully pinged google.com"),qe(2)):(this.l.info("Failed to ping google.com"),qe(1))};function D_(e){if(e.H=0,e.ma=[],e.h){const t=v_(e.i);(t.length!=0||e.j.length!=0)&&(Bp(e.ma,t),Bp(e.ma,e.j),e.i.i.length=0,_f(e.j),e.j.length=0),e.h.ya()}}function V_(e,t,n){var r=n instanceof tr?Zt(n):new tr(n);if(r.g!="")t&&(r.g=t+"."+r.g),Oa(r,r.m);else{var i=M.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new tr(null);r&&Va(s,r),t&&(s.g=t),i&&Oa(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&ee(r,n,t),ee(r,"VER",e.ra),io(e,r),r}function O_(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new ue(new Il({ob:n})):new ue(e.va),t.Oa(e.J),t}P.isActive=function(){return!!this.h&&this.h.isActive(this)};function L_(){}P=L_.prototype;P.Ba=function(){};P.Aa=function(){};P.za=function(){};P.ya=function(){};P.isActive=function(){return!0};P.Va=function(){};function Ma(){if(ti&&!(10<=Number(FC)))throw Error("Environmental error: no available transport.")}Ma.prototype.g=function(e,t){return new at(e,t)};function at(e,t){Ce.call(this),this.g=new I_(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!As(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!As(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new gi(this)}Ie(at,Ce);at.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;qe(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=V_(e,null,e.Y),kl(e)};at.prototype.close=function(){Mf(this.g)};at.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Af(e),e=n);t.j.push(new dI(t.fb++,e)),t.H==3&&kl(t)};at.prototype.N=function(){this.g.h=null,delete this.j,Mf(this.g),delete this.g,at.$.N.call(this)};function M_(e){Nf.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ie(M_,Nf);function F_(){Df.call(this),this.status=1}Ie(F_,Df);function gi(e){this.g=e}Ie(gi,L_);gi.prototype.Ba=function(){Ne(this.g,"a")};gi.prototype.Aa=function(e){Ne(this.g,new M_(e))};gi.prototype.za=function(e){Ne(this.g,new F_)};gi.prototype.ya=function(){Ne(this.g,"b")};function II(){this.blockSize=-1}function kt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ie(kt,II);kt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function xu(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}kt.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)xu(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){xu(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){xu(this,r),i=0;break}}this.h=i,this.i+=t};kt.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function X(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var AI={};function jf(e){return-128<=e&&128>e?OC(e,function(t){return new X([t|0],0>t?-1:0)}):new X([e|0],0>e?-1:0)}function Mt(e){if(isNaN(e)||!isFinite(e))return Hr;if(0>e)return ke(Mt(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=eh;return new X(t,0)}function $_(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return ke($_(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Mt(Math.pow(t,8)),r=Hr,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=Mt(Math.pow(t,s)),r=r.R(s).add(Mt(o))):(r=r.R(n),r=r.add(Mt(o)))}return r}var eh=4294967296,Hr=jf(0),th=jf(1),Zp=jf(16777216);P=X.prototype;P.ea=function(){if(pt(this))return-ke(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:eh+r)*t,t*=eh}return e};P.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Kt(this))return"0";if(pt(this))return"-"+ke(this).toString(e);for(var t=Mt(Math.pow(e,6)),n=this,r="";;){var i=$a(n,t).g;n=Fa(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Kt(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};P.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Kt(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function pt(e){return e.h==-1}P.X=function(e){return e=Fa(this,e),pt(e)?-1:Kt(e)?0:1};function ke(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new X(n,~e.h).add(th)}P.abs=function(){return pt(this)?ke(this):this};P.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new X(n,n[n.length-1]&-2147483648?-1:0)};function Fa(e,t){return e.add(ke(t))}P.R=function(e){if(Kt(this)||Kt(e))return Hr;if(pt(this))return pt(e)?ke(this).R(ke(e)):ke(ke(this).R(e));if(pt(e))return ke(this.R(ke(e)));if(0>this.X(Zp)&&0>e.X(Zp))return Mt(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,Vo(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Vo(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Vo(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Vo(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new X(n,0)};function Vo(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Vi(e,t){this.g=e,this.h=t}function $a(e,t){if(Kt(t))throw Error("division by zero");if(Kt(e))return new Vi(Hr,Hr);if(pt(e))return t=$a(ke(e),t),new Vi(ke(t.g),ke(t.h));if(pt(t))return t=$a(e,ke(t)),new Vi(ke(t.g),t.h);if(30<e.g.length){if(pt(e)||pt(t))throw Error("slowDivide_ only works with positive integers.");for(var n=th,r=t;0>=r.X(e);)n=em(n),r=em(r);var i=_r(n,1),s=_r(r,1);for(r=_r(r,2),n=_r(n,2);!Kt(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=_r(r,1),n=_r(n,1)}return t=Fa(e,i.R(t)),new Vi(i,t)}for(i=Hr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Mt(n),o=s.R(t);pt(o)||0<o.X(e);)n-=r,s=Mt(n),o=s.R(t);Kt(s)&&(s=th),i=i.add(s),e=Fa(e,o)}return new Vi(i,e)}P.gb=function(e){return $a(this,e).h};P.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new X(n,this.h&e.h)};P.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new X(n,this.h|e.h)};P.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new X(n,this.h^e.h)};function em(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new X(n,e.h)}function _r(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new X(i,e.h)}Ma.prototype.createWebChannel=Ma.prototype.g;at.prototype.send=at.prototype.u;at.prototype.open=at.prototype.m;at.prototype.close=at.prototype.close;wl.NO_ERROR=0;wl.TIMEOUT=8;wl.HTTP_ERROR=6;t_.COMPLETE="complete";n_.EventType=eo;eo.OPEN="a";eo.CLOSE="b";eo.ERROR="c";eo.MESSAGE="d";Ce.prototype.listen=Ce.prototype.O;ue.prototype.listenOnce=ue.prototype.P;ue.prototype.getLastError=ue.prototype.Sa;ue.prototype.getLastErrorCode=ue.prototype.Ia;ue.prototype.getStatus=ue.prototype.da;ue.prototype.getResponseJson=ue.prototype.Wa;ue.prototype.getResponseText=ue.prototype.ja;ue.prototype.send=ue.prototype.ha;ue.prototype.setWithCredentials=ue.prototype.Oa;kt.prototype.digest=kt.prototype.l;kt.prototype.reset=kt.prototype.reset;kt.prototype.update=kt.prototype.j;X.prototype.add=X.prototype.add;X.prototype.multiply=X.prototype.R;X.prototype.modulo=X.prototype.gb;X.prototype.compare=X.prototype.X;X.prototype.toNumber=X.prototype.ea;X.prototype.toString=X.prototype.toString;X.prototype.getBits=X.prototype.D;X.fromNumber=Mt;X.fromString=$_;var PI=function(){return new Ma},RI=function(){return El()},Nu=wl,kI=t_,xI=yr,tm={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Oo=n_,NI=ue,DI=kt,br=X;const nm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yi="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new xv("@firebase/firestore");function Oi(){return cr.logLevel}function D(e,...t){if(cr.logLevel<=b.DEBUG){const n=t.map(Uf);cr.debug(`Firestore (${yi}): ${e}`,...n)}}function en(e,...t){if(cr.logLevel<=b.ERROR){const n=t.map(Uf);cr.error(`Firestore (${yi}): ${e}`,...n)}}function ni(e,...t){if(cr.logLevel<=b.WARN){const n=t.map(Uf);cr.warn(`Firestore (${yi}): ${e}`,...n)}}function Uf(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(e="Unexpected state"){const t=`FIRESTORE (${yi}) INTERNAL ASSERTION FAILED: `+e;throw en(t),new Error(t)}function ge(e,t){e||j()}function K(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class O extends pi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Fe.UNAUTHENTICATED))}shutdown(){}}class OI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LI{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new nr,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new nr)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string"),new j_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ge(t===null||typeof t=="string"),new Fe(t)}}class MI{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class FI{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new MI(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $I{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jI{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=s=>{s.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ge(typeof n.token=="string"),this.R=n.token,new $I(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=UI(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Q(e,t){return e<t?-1:e>t?1:0}function ri(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new O(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new O(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new O(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return tt.fromMillis(Date.now())}static fromDate(t){return tt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new tt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Q(this.nanoseconds,t.nanoseconds):Q(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t){this.timestamp=t}static fromTimestamp(t){return new F(t)}static min(){return new F(new tt(0,0))}static max(){return new F(new tt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t,n,r){n===void 0?n=0:n>t.length&&j(),r===void 0?r=t.length-n:r>t.length-n&&j(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Os.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Os?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class ae extends Os{construct(t,n,r){return new ae(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new O(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ae(n)}static emptyPath(){return new ae([])}}const BI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Os{construct(t,n,r){return new We(t,n,r)}static isValidIdentifier(t){return BI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new We(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new O(A.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new O(A.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new O(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new O(A.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(n)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(t){this.path=t}static fromPath(t){return new L(ae.fromString(t))}static fromName(t){return new L(ae.fromString(t).popFirst(5))}static empty(){return new L(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new L(new ae(t.slice()))}}function HI(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=F.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new kn(i,L.empty(),t)}function bI(e){return new kn(e.readTime,e.key,-1)}class kn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new kn(F.min(),L.empty(),-1)}static max(){return new kn(F.max(),L.empty(),-1)}}function WI(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=L.comparator(e.documentKey,t.documentKey),n!==0?n:Q(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(e){if(e.code!==A.FAILED_PRECONDITION||e.message!==qI)throw e;D("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new T((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof T?n:T.resolve(n)}catch(n){return T.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):T.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):T.reject(n)}static resolve(t){return new T((n,r)=>{n(t)})}static reject(t){return new T((n,r)=>{r(t)})}static waitFor(t){return new T((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=T.resolve(!1);for(const r of t)n=n.next(i=>i?T.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new T((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new T((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function so(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}Bf._e=-1;function xl(e){return e==null}function nh(e){return e===0&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Nl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function QI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n){this.comparator=t,this.root=n||Re.EMPTY}insert(t,n){return new fe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Re.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Re.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lo(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lo(this.root,t,this.comparator,!0)}}class Lo{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Re{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Re.RED,this.left=i??Re.EMPTY,this.right=s??Re.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Re(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Re.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Re.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Re.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Re.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();const t=this.left.check();if(t!==this.right.check())throw j();return t+(this.isRed()?0:1)}}Re.EMPTY=null,Re.RED=!0,Re.BLACK=!1;Re.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(t,n,r,i,s){return this}insert(t,n,r){return new Re(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new im(this.data.getIterator())}getIteratorFrom(t){return new im(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new De(this.comparator);return n.data=t,n}}class im{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new fn([])}unionWith(t){let n=new De(We.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new fn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ri(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new U_("Invalid base64 string: "+s):s}}(t);return new He(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new He(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Q(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const GI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xn(e){if(ge(!!e),typeof e=="string"){let t=0;const n=GI.exec(e);if(ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:pe(e.seconds),nanos:pe(e.nanos)}}function pe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function hr(e){return typeof e=="string"?He.fromBase64String(e):He.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bf(e){const t=e.mapValue.fields.__previous_value__;return Hf(t)?bf(t):t}function Ls(e){const t=xn(e.mapValue.fields.__local_write_time__.timestampValue);return new tt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ms{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Ms("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ms&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hf(e)?4:YI(e)?9007199254740991:10:j()}function zt(e,t){if(e===t)return!0;const n=fr(e);if(n!==fr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ls(e).isEqual(Ls(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=xn(i.timestampValue),a=xn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return hr(i.bytesValue).isEqual(hr(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return pe(i.geoPointValue.latitude)===pe(s.geoPointValue.latitude)&&pe(i.geoPointValue.longitude)===pe(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return pe(i.integerValue)===pe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=pe(i.doubleValue),a=pe(s.doubleValue);return o===a?nh(o)===nh(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return ri(e.arrayValue.values||[],t.arrayValue.values||[],zt);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(rm(o)!==rm(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!zt(o[l],a[l])))return!1;return!0}(e,t);default:return j()}}function Fs(e,t){return(e.values||[]).find(n=>zt(n,t))!==void 0}function ii(e,t){if(e===t)return 0;const n=fr(e),r=fr(t);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=pe(s.integerValue||s.doubleValue),l=pe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return sm(e.timestampValue,t.timestampValue);case 4:return sm(Ls(e),Ls(t));case 5:return Q(e.stringValue,t.stringValue);case 6:return function(s,o){const a=hr(s),l=hr(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Q(a[u],l[u]);if(c!==0)return c}return Q(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Q(pe(s.latitude),pe(o.latitude));return a!==0?a:Q(pe(s.longitude),pe(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=ii(a[u],l[u]);if(c)return c}return Q(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,o){if(s===Mo.mapValue&&o===Mo.mapValue)return 0;if(s===Mo.mapValue)return 1;if(o===Mo.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=Q(l[h],c[h]);if(f!==0)return f;const g=ii(a[l[h]],u[c[h]]);if(g!==0)return g}return Q(l.length,c.length)}(e.mapValue,t.mapValue);default:throw j()}}function sm(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Q(e,t);const n=xn(e),r=xn(t),i=Q(n.seconds,r.seconds);return i!==0?i:Q(n.nanos,r.nanos)}function si(e){return rh(e)}function rh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=xn(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return hr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return L.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=rh(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${rh(n.fields[o])}`;return i+"}"}(e.mapValue):j()}function ih(e){return!!e&&"integerValue"in e}function Wf(e){return!!e&&"arrayValue"in e}function om(e){return!!e&&"nullValue"in e}function am(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Du(e){return!!e&&"mapValue"in e}function es(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Nl(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=es(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=es(e.arrayValue.values[n]);return t}return Object.assign({},e)}function YI(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(t){this.value=t}static empty(){return new Ot({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Du(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=es(n)}setAll(t){let n=We.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=es(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Du(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return zt(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Du(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Nl(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Ot(es(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new je(t,0,F.min(),F.min(),F.min(),Ot.empty(),0)}static newFoundDocument(t,n,r,i){return new je(t,1,n,F.min(),r,i,0)}static newNoDocument(t,n){return new je(t,2,n,F.min(),F.min(),Ot.empty(),0)}static newUnknownDocument(t,n){return new je(t,3,n,F.min(),F.min(),Ot.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(F.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=F.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t,n){this.position=t,this.inclusive=n}}function lm(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=L.comparator(L.fromName(o.referenceValue),n.key):r=ii(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function um(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!zt(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,n="asc"){this.field=t,this.dir=n}}function JI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{}class ve extends z_{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new eA(t,n,r):n==="array-contains"?new rA(t,r):n==="in"?new iA(t,r):n==="not-in"?new sA(t,r):n==="array-contains-any"?new oA(t,r):new ve(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new tA(t,r):new nA(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ii(n,this.value)):n!==null&&fr(this.value)===fr(n)&&this.matchesComparison(ii(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return j()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bt extends z_{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Bt(t,n)}matches(t){return B_(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function B_(e){return e.op==="and"}function H_(e){return ZI(e)&&B_(e)}function ZI(e){for(const t of e.filters)if(t instanceof Bt)return!1;return!0}function sh(e){if(e instanceof ve)return e.field.canonicalString()+e.op.toString()+si(e.value);if(H_(e))return e.filters.map(t=>sh(t)).join(",");{const t=e.filters.map(n=>sh(n)).join(",");return`${e.op}(${t})`}}function b_(e,t){return e instanceof ve?function(r,i){return i instanceof ve&&r.op===i.op&&r.field.isEqual(i.field)&&zt(r.value,i.value)}(e,t):e instanceof Bt?function(r,i){return i instanceof Bt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&b_(o,i.filters[a]),!0):!1}(e,t):void j()}function W_(e){return e instanceof ve?function(n){return`${n.field.canonicalString()} ${n.op} ${si(n.value)}`}(e):e instanceof Bt?function(n){return n.op.toString()+" {"+n.getFilters().map(W_).join(" ,")+"}"}(e):"Filter"}class eA extends ve{constructor(t,n,r){super(t,n,r),this.key=L.fromName(r.referenceValue)}matches(t){const n=L.comparator(t.key,this.key);return this.matchesComparison(n)}}class tA extends ve{constructor(t,n){super(t,"in",n),this.keys=q_("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class nA extends ve{constructor(t,n){super(t,"not-in",n),this.keys=q_("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function q_(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>L.fromName(r.referenceValue))}class rA extends ve{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Wf(n)&&Fs(n.arrayValue,this.value)}}class iA extends ve{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Fs(this.value.arrayValue,n)}}class sA extends ve{constructor(t,n){super(t,"not-in",n)}matches(t){if(Fs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Fs(this.value.arrayValue,n)}}class oA extends ve{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Wf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function cm(e,t=null,n=[],r=[],i=null,s=null,o=null){return new aA(e,t,n,r,i,s,o)}function qf(e){const t=K(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>sh(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),xl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>si(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>si(r)).join(",")),t.ce=n}return t.ce}function Kf(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!JI(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!b_(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!um(e.startAt,t.startAt)&&um(e.endAt,t.endAt)}function oh(e){return L.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function lA(e,t,n,r,i,s,o,a){return new Dl(e,t,n,r,i,s,o,a)}function K_(e){return new Dl(e)}function hm(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function uA(e){return e.collectionGroup!==null}function ts(e){const t=K(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new De(We.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new Ua(s,r))}),n.has(We.keyField().canonicalString())||t.le.push(new Ua(We.keyField(),r))}return t.le}function Ut(e){const t=K(e);return t.he||(t.he=cA(t,ts(e))),t.he}function cA(e,t){if(e.limitType==="F")return cm(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ua(i.field,s)});const n=e.endAt?new ja(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ja(e.startAt.position,e.startAt.inclusive):null;return cm(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ah(e,t,n){return new Dl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Vl(e,t){return Kf(Ut(e),Ut(t))&&e.limitType===t.limitType}function Q_(e){return`${qf(Ut(e))}|lt:${e.limitType}`}function Er(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>W_(i)).join(", ")}]`),xl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>si(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>si(i)).join(",")),`Target(${r})`}(Ut(e))}; limitType=${e.limitType})`}function Ol(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):L.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of ts(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=lm(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ts(r),i)||r.endAt&&!function(o,a,l){const u=lm(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ts(r),i))}(e,t)}function hA(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function G_(e){return(t,n)=>{let r=!1;for(const i of ts(e)){const s=fA(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fA(e,t,n){const r=e.field.isKeyField()?L.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ii(l,u):j()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Nl(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return QI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=new fe(L.comparator);function Nn(){return dA}const X_=new fe(L.comparator);function zi(...e){let t=X_;for(const n of e)t=t.insert(n.key,n);return t}function pA(e){let t=X_;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Jn(){return ns()}function Y_(){return ns()}function ns(){return new vi(e=>e.toString(),(e,t)=>e.isEqual(t))}const mA=new De(L.comparator);function W(...e){let t=mA;for(const n of e)t=t.add(n);return t}const gA=new De(Q);function yA(){return gA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function _A(e){return{integerValue:""+e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this._=void 0}}function EA(e,t,n){return e instanceof lh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Hf(s)&&(s=bf(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,t):e instanceof za?J_(e,t):e instanceof Ba?Z_(e,t):function(i,s){const o=TA(i,s),a=fm(o)+fm(i.Ie);return ih(o)&&ih(i.Ie)?_A(a):vA(i.serializer,a)}(e,t)}function wA(e,t,n){return e instanceof za?J_(e,t):e instanceof Ba?Z_(e,t):n}function TA(e,t){return e instanceof uh?function(r){return ih(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class lh extends Ll{}class za extends Ll{constructor(t){super(),this.elements=t}}function J_(e,t){const n=e0(t);for(const r of e.elements)n.some(i=>zt(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ba extends Ll{constructor(t){super(),this.elements=t}}function Z_(e,t){let n=e0(t);for(const r of e.elements)n=n.filter(i=>!zt(i,r));return{arrayValue:{values:n}}}class uh extends Ll{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function fm(e){return pe(e.integerValue||e.doubleValue)}function e0(e){return Wf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function SA(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof za&&i instanceof za||r instanceof Ba&&i instanceof Ba?ri(r.elements,i.elements,zt):r instanceof uh&&i instanceof uh?zt(r.Ie,i.Ie):r instanceof lh&&i instanceof lh}(e.transform,t.transform)}class rr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new rr}static exists(t){return new rr(void 0,t)}static updateTime(t){return new rr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ea(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Qf{}function t0(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new IA(e.key,rr.none()):new Gf(e.key,e.data,rr.none());{const n=e.data,r=Ot.empty();let i=new De(We.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ml(e.key,r,new fn(i.toArray()),rr.none())}}function CA(e,t,n){e instanceof Gf?function(i,s,o){const a=i.value.clone(),l=pm(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ml?function(i,s,o){if(!ea(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=pm(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(n0(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function rs(e,t,n,r){return e instanceof Gf?function(s,o,a,l){if(!ea(s.precondition,o))return a;const u=s.value.clone(),c=mm(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ml?function(s,o,a,l){if(!ea(s.precondition,o))return a;const u=mm(s.fieldTransforms,l,o),c=o.data;return c.setAll(n0(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(s,o,a){return ea(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function dm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ri(r,i,(s,o)=>SA(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Gf extends Qf{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ml extends Qf{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function n0(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function pm(e,t,n){const r=new Map;ge(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,wA(o,a,n[i]))}return r}function mm(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,EA(s,o,t))}return r}class IA extends Qf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&CA(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=rs(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=rs(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Y_();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=t0(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(F.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),W())}isEqual(t){return this.batchId===t.batchId&&ri(this.mutations,t.mutations,(n,r)=>dm(n,r))&&ri(this.baseMutations,t.baseMutations,(n,r)=>dm(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de,H;function r0(e){if(e===void 0)return en("GRPC error has no .code"),A.UNKNOWN;switch(e){case de.OK:return A.OK;case de.CANCELLED:return A.CANCELLED;case de.UNKNOWN:return A.UNKNOWN;case de.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case de.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case de.INTERNAL:return A.INTERNAL;case de.UNAVAILABLE:return A.UNAVAILABLE;case de.UNAUTHENTICATED:return A.UNAUTHENTICATED;case de.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case de.NOT_FOUND:return A.NOT_FOUND;case de.ALREADY_EXISTS:return A.ALREADY_EXISTS;case de.PERMISSION_DENIED:return A.PERMISSION_DENIED;case de.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case de.ABORTED:return A.ABORTED;case de.OUT_OF_RANGE:return A.OUT_OF_RANGE;case de.UNIMPLEMENTED:return A.UNIMPLEMENTED;case de.DATA_LOSS:return A.DATA_LOSS;default:return j()}}(H=de||(de={}))[H.OK=0]="OK",H[H.CANCELLED=1]="CANCELLED",H[H.UNKNOWN=2]="UNKNOWN",H[H.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",H[H.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",H[H.NOT_FOUND=5]="NOT_FOUND",H[H.ALREADY_EXISTS=6]="ALREADY_EXISTS",H[H.PERMISSION_DENIED=7]="PERMISSION_DENIED",H[H.UNAUTHENTICATED=16]="UNAUTHENTICATED",H[H.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",H[H.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",H[H.ABORTED=10]="ABORTED",H[H.OUT_OF_RANGE=11]="OUT_OF_RANGE",H[H.UNIMPLEMENTED=12]="UNIMPLEMENTED",H[H.INTERNAL=13]="INTERNAL",H[H.UNAVAILABLE=14]="UNAVAILABLE",H[H.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=new br([4294967295,4294967295],0);function gm(e){const t=kA().encode(e),n=new DI;return n.update(t),new Uint8Array(n.digest())}function ym(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new br([n,r],0),new br([i,s],0)]}class Xf{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bi(`Invalid padding: ${n}`);if(r<0)throw new Bi(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Bi(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Bi(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=br.fromNumber(this.Te)}de(t,n,r){let i=t.add(n.multiply(br.fromNumber(r)));return i.compare(xA)===1&&(i=new br([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=gm(t),[r,i]=ym(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Xf(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=gm(t),[r,i]=ym(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Bi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,oo.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Fl(F.min(),i,new fe(Q),Nn(),W())}}class oo{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new oo(r,n,W(),W(),W())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t,n,r,i){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i}}class i0{constructor(t,n){this.targetId=t,this.fe=n}}class s0{constructor(t,n,r=He.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class vm{constructor(){this.ge=0,this.pe=Em(),this.ye=He.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=W(),n=W(),r=W();return this.pe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:j()}}),new oo(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=Em()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,ge(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class NA{constructor(t){this.Le=t,this.ke=new Map,this.qe=Nn(),this.Qe=_m(),this.Ke=new fe(Q)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:j()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(t){const n=t.targetId,r=t.fe.count,i=this.Ye(n);if(i){const s=i.target;if(oh(s))if(r===0){const o=new L(s.path);this.We(n,o,je.newNoDocument(o,F.min()))}else ge(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=hr(r).toUint8Array()}catch(l){if(l instanceof U_)return ni("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Xf(o,i,s)}catch(l){return ni(l instanceof Bi?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.We(n,s,null),i++)}),i}it(t){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&oh(a.target)){const l=new L(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,je.newNoDocument(l,t))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=W();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(t));const i=new Fl(t,n,this.Ke,this.qe,r);return this.qe=Nn(),this.Qe=_m(),this.Ke=new fe(Q),i}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const i=this.ze(t);this.st(t,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new vm,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new De(Q),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||D("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new vm),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function _m(){return new fe(L.comparator)}function Em(){return new fe(L.comparator)}const DA={asc:"ASCENDING",desc:"DESCENDING"},VA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OA={and:"AND",or:"OR"};class LA{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ch(e,t){return e.useProto3Json||xl(t)?t:{value:t}}function MA(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function FA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Wr(e){return ge(!!e),F.fromTimestamp(function(n){const r=xn(n);return new tt(r.seconds,r.nanos)}(e))}function $A(e,t){return function(r){return new ae(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function o0(e){const t=ae.fromString(e);return ge(c0(t)),t}function Vu(e,t){const n=o0(t);if(n.get(1)!==e.databaseId.projectId)throw new O(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new O(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new L(a0(n))}function hh(e,t){return $A(e.databaseId,t)}function jA(e){const t=o0(e);return t.length===4?ae.emptyPath():a0(t)}function wm(e){return new ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function a0(e){return ge(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function UA(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:j()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ge(c===void 0||typeof c=="string"),He.fromBase64String(c||"")):(ge(c===void 0||c instanceof Uint8Array),He.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(u){const c=u.code===void 0?A.UNKNOWN:r0(u.code);return new O(c,u.message||"")}(o);n=new s0(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vu(e,r.document.name),s=Wr(r.document.updateTime),o=r.document.createTime?Wr(r.document.createTime):F.min(),a=new Ot({mapValue:{fields:r.document.fields}}),l=je.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ta(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Vu(e,r.document),s=r.readTime?Wr(r.readTime):F.min(),o=je.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ta([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Vu(e,r.document),s=r.removedTargetIds||[];n=new ta([],s,i,null)}else{if(!("filter"in t))return j();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new RA(i,s),a=r.targetId;n=new i0(a,o)}}return n}function zA(e,t){return{documents:[hh(e,t.path)]}}function BA(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=hh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=hh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return u0(Bt.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:wr(h.field),direction:WA(h.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ch(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function HA(e){let t=jA(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=l0(h);return f instanceof Bt&&H_(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new Ua(Tr(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,xl(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,g=h.values||[];return new ja(g,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,g=h.values||[];return new ja(g,f)}(n.endAt)),lA(t,i,o,s,a,"F",l,u)}function bA(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return j()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function l0(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Tr(n.unaryFilter.field);return ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tr(n.unaryFilter.field);return ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Tr(n.unaryFilter.field);return ve.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Tr(n.unaryFilter.field);return ve.create(o,"!=",{nullValue:"NULL_VALUE"});default:return j()}}(e):e.fieldFilter!==void 0?function(n){return ve.create(Tr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Bt.create(n.compositeFilter.filters.map(r=>l0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return j()}}(n.compositeFilter.op))}(e):j()}function WA(e){return DA[e]}function qA(e){return VA[e]}function KA(e){return OA[e]}function wr(e){return{fieldPath:e.canonicalString()}}function Tr(e){return We.fromServerFormat(e.fieldPath)}function u0(e){return e instanceof ve?function(n){if(n.op==="=="){if(am(n.value))return{unaryFilter:{field:wr(n.field),op:"IS_NAN"}};if(om(n.value))return{unaryFilter:{field:wr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(am(n.value))return{unaryFilter:{field:wr(n.field),op:"IS_NOT_NAN"}};if(om(n.value))return{unaryFilter:{field:wr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wr(n.field),op:qA(n.op),value:n.value}}}(e):e instanceof Bt?function(n){const r=n.getFilters().map(i=>u0(i));return r.length===1?r[0]:{compositeFilter:{op:KA(n.op),filters:r}}}(e):j()}function c0(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t,n,r,i,s=F.min(),o=F.min(),a=He.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new dn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new dn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new dn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new dn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(t){this.ut=t}}function GA(e){const t=HA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ah(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.on=new YA}addToCollectionParentIndex(t,n){return this.on.add(n),T.resolve()}getCollectionParents(t,n){return T.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return T.resolve()}deleteFieldIndex(t,n){return T.resolve()}deleteAllFieldIndexes(t){return T.resolve()}createTargetIndexes(t,n){return T.resolve()}getDocumentsMatchingTarget(t,n){return T.resolve(null)}getIndexType(t,n){return T.resolve(0)}getFieldIndexes(t,n){return T.resolve([])}getNextCollectionGroupToUpdate(t){return T.resolve(null)}getMinOffset(t,n){return T.resolve(kn.min())}getMinOffsetFromCollectionGroup(t,n){return T.resolve(kn.min())}updateCollectionGroup(t,n,r){return T.resolve()}updateIndexEntries(t,n){return T.resolve()}}class YA{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new De(ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new De(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new oi(0)}static Nn(){return new oi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.changes=new vi(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?T.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&rs(r.mutation,i,fn.empty(),tt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,W()).next(()=>r))}getLocalViewOfDocuments(t,n,r=W()){const i=Jn();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=zi();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Jn();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,W()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=Nn();const o=ns(),a=function(){return ns()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ml)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),rs(c.mutation,u,c.mutation.getFieldMask(),tt.now())):o.set(u.key,fn.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new ZA(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=ns();let i=new fe((o,a)=>o-a),s=W();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||fn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||W()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=Y_();c.forEach(f=>{if(!s.has(f)){const g=t0(n.get(f),r.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,h))}return T.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return L.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):uA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):T.resolve(Jn());let a=-1,l=s;return o.next(u=>T.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?T.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,W())).next(c=>({batchId:a,changes:pA(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new L(n)).next(r=>{let i=zi();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=zi();return this.indexManager.getCollectionParents(t,s).next(a=>T.forEach(a,l=>{const u=function(h,f){return new Dl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,je.newInvalidDocument(c)))});let a=zi();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&rs(c.mutation,u,fn.empty(),tt.now()),Ol(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return T.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wr(i.createTime)}}(n)),T.resolve()}getNamedQuery(t,n){return T.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(i){return{name:i.name,query:GA(i.bundledQuery),readTime:Wr(i.readTime)}}(n)),T.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this.overlays=new fe(L.comparator),this.lr=new Map}getOverlay(t,n){return T.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Jn();return T.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.lt(t,n,s)}),T.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),T.resolve()}getOverlaysForCollection(t,n,r){const i=Jn(),s=n.length+1,o=new L(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return T.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new fe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Jn(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Jn(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return T.resolve(a)}lt(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new PA(n,r));let s=this.lr.get(n);s===void 0&&(s=W(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(){this.hr=new De(we.Pr),this.Ir=new De(we.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const r=new we(t,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.dr(new we(t,n))}Ar(t,n){t.forEach(r=>this.removeReference(r,n))}Rr(t){const n=new L(new ae([])),r=new we(n,t),i=new we(n,t+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new L(new ae([])),r=new we(n,t),i=new we(n,t+1);let s=W();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new we(t,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class we{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return L.comparator(t.key,n.key)||Q(t.gr,n.gr)}static Tr(t,n){return Q(t.gr,n.gr)||L.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new De(we.Pr)}checkEmpty(t){return T.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AA(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new we(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return T.resolve(o)}lookupMutationBatch(t,n){return T.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return T.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return T.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new we(n,0),i=new we(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),T.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new De(Q);return n.forEach(i=>{const s=new we(i,0),o=new we(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),T.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;L.isDocumentKey(s)||(s=s.child(""));const o=new we(new L(s),0);let a=new De(Q);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),T.resolve(this.br(a))}br(t){const n=[];return t.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){ge(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return T.forEach(n.mutations,i=>{const s=new we(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.yr=r})}Fn(t){}containsKey(t,n){const r=new we(n,0),i=this.yr.firstAfterOrEqual(r);return T.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,T.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(t){this.Cr=t,this.docs=function(){return new fe(L.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return T.resolve(r?r.document.mutableCopy():je.newInvalidDocument(n))}getEntries(t,n){let r=Nn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():je.newInvalidDocument(i))}),T.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Nn();const o=n.path,a=new L(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||WI(bI(c),r)<=0||(i.has(c.key)||Ol(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return T.resolve(s)}getAllFromCollectionGroup(t,n,r,i){j()}vr(t,n){return T.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new sP(this)}getSize(t){return T.resolve(this.size)}}class sP extends JA{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(t,i)):this._r.removeEntry(r)}),T.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(t){this.persistence=t,this.Fr=new vi(n=>qf(n),Kf),this.lastRemoteSnapshotVersion=F.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Yf,this.targetCount=0,this.Nr=oi.On()}forEachTarget(t,n){return this.Fr.forEach((r,i)=>n(i)),T.resolve()}getLastRemoteSnapshotVersion(t){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return T.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),T.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new oi(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,T.resolve()}updateTargetData(t,n){return this.kn(n),T.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,T.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),T.waitFor(s).next(()=>i)}getTargetCount(t){return T.resolve(this.targetCount)}getTargetData(t,n){const r=this.Fr.get(n)||null;return T.resolve(r)}addMatchingKeys(t,n,r){return this.Or.Er(n,r),T.resolve()}removeMatchingKeys(t,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),T.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),T.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Or.mr(n);return T.resolve(r)}containsKey(t,n){return T.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(t,n){this.Br={},this.overlays={},this.Lr=new Bf(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new oP(this),this.indexManager=new XA,this.remoteDocumentCache=function(i){return new iP(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new QA(n),this.Kr=new tP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new nP,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new rP(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,r){D("MemoryPersistence","Starting transaction:",t);const i=new lP(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(t,n){return T.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class lP extends KI{constructor(t){super(),this.currentSequenceNumber=t}}class Jf{constructor(t){this.persistence=t,this.Gr=new Yf,this.zr=null}static jr(t){return new Jf(t)}get Hr(){if(this.zr)return this.zr;throw j()}addReference(t,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),T.resolve()}removeReference(t,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),T.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),T.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.Hr,r=>{const i=L.fromPath(r);return this.Jr(t,i).next(s=>{s||n.removeEntry(i,F.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return T.or([()=>T.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.ki=r,this.qi=i}static Qi(t,n){let r=W(),i=W();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Zf(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.zi(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new uP;return this.Hi(t,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(t,n,o,a.size)})}).next(()=>s.result)}Ji(t,n,r,i){return r.documentReadCount<this.Ui?(Oi()<=b.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",Er(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),T.resolve()):(Oi()<=b.DEBUG&&D("QueryEngine","Query:",Er(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Oi()<=b.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",Er(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ut(n))):T.resolve())}zi(t,n){if(hm(n))return T.resolve(null);let r=Ut(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ah(n,null,"F"),r=Ut(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=W(...s);return this.Gi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(t,ah(n,null,"F")):this.Xi(t,u,n,l)}))})))}ji(t,n,r,i){return hm(n)||i.isEqual(F.min())?T.resolve(null):this.Gi.getDocuments(t,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?T.resolve(null):(Oi()<=b.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Er(n)),this.Xi(t,o,n,HI(i,-1)).next(a=>a))})}Yi(t,n){let r=new De(G_(t));return n.forEach((i,s)=>{Ol(t,s)&&(r=r.add(s))}),r}Zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(t,n,r){return Oi()<=b.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",Er(n)),this.Gi.getDocumentsMatchingQuery(t,n,kn.min(),r)}Xi(t,n,r,i){return this.Gi.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(t,n,r,i){this.persistence=t,this.es=n,this.serializer=i,this.ts=new fe(Q),this.ns=new vi(s=>qf(s),Kf),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(r)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eP(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function fP(e,t,n,r){return new hP(e,t,n,r)}async function h0(e,t){const n=K(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=W();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function f0(e){const t=K(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function dP(e,t){const n=K(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,h)));let g=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?g=g.withResumeToken(He.EMPTY_BYTE_STRING,F.min()).withLastLimboFreeSnapshotVersion(F.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,r)),i=i.insert(h,g),function(_,v,p){return _.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(f,g,c)&&a.push(n.qr.updateTargetData(s,g))});let l=Nn(),u=W();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(pP(s,o,t.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(F.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(h=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return T.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function pP(e,t,n){let r=W(),i=W();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=Nn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(F.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function mP(e,t){const n=K(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,t).next(s=>s?(i=s,T.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new dn(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(t,r.targetId)),r})}async function fh(e,t,n){const r=K(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!so(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function Tm(e,t,n){const r=K(e);let i=F.min(),s=W();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=K(l),f=h.ns.get(c);return f!==void 0?T.resolve(h.ts.get(f)):h.qr.getTargetData(u,c)}(r,o,Ut(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,t,n?i:F.min(),n?s:W())).next(a=>(gP(r,hA(t),a),{documents:a,ls:s})))}function gP(e,t,n){let r=e.rs.get(t)||F.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.rs.set(t,r)}class Sm{constructor(){this.activeTargetIds=yA()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yP{constructor(){this.eo=new Sm,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,r){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new Sm,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo=null;function Ou(){return Fo===null?Fo=function(){return 268435456+Math.round(2147483648*Math.random())}():Fo++,"0x"+Fo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Me="WebChannelConnection";class wP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Ou(),l=this.So(n,r);D("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(D("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ni("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=_P[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,r,i){const s=Ou();return new Promise((o,a)=>{const l=new NI;l.setWithCredentials(!0),l.listenOnce(kI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Nu.NO_ERROR:const c=l.getResponseJson();D(Me,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case Nu.TIMEOUT:D(Me,`RPC '${t}' ${s} timed out`),a(new O(A.DEADLINE_EXCEEDED,"Request time out"));break;case Nu.HTTP_ERROR:const h=l.getStatus();if(D(Me,`RPC '${t}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const y=function(v){const p=v.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(p)>=0?p:A.UNKNOWN}(g.status);a(new O(y,g.message))}else a(new O(A.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new O(A.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{D(Me,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);D(Me,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(t,n,r){const i=Ou(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=PI(),a=RI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");D(Me,`Creating RPC '${t}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,g=!1;const y=new EP({co:v=>{g?D(Me,`Not sending because RPC '${t}' stream ${i} is closed:`,v):(f||(D(Me,`Opening RPC '${t}' stream ${i} transport.`),h.open(),f=!0),D(Me,`RPC '${t}' stream ${i} sending:`,v),h.send(v))},lo:()=>h.close()}),_=(v,p,d)=>{v.listen(p,m=>{try{d(m)}catch(E){setTimeout(()=>{throw E},0)}})};return _(h,Oo.EventType.OPEN,()=>{g||D(Me,`RPC '${t}' stream ${i} transport opened.`)}),_(h,Oo.EventType.CLOSE,()=>{g||(g=!0,D(Me,`RPC '${t}' stream ${i} transport closed`),y.Ro())}),_(h,Oo.EventType.ERROR,v=>{g||(g=!0,ni(Me,`RPC '${t}' stream ${i} transport errored:`,v),y.Ro(new O(A.UNAVAILABLE,"The operation could not be completed")))}),_(h,Oo.EventType.MESSAGE,v=>{var p;if(!g){const d=v.data[0];ge(!!d);const m=d,E=m.error||((p=m[0])===null||p===void 0?void 0:p.error);if(E){D(Me,`RPC '${t}' stream ${i} received error:`,E);const C=E.status;let R=function(Y){const U=de[Y];if(U!==void 0)return r0(U)}(C),k=E.message;R===void 0&&(R=A.INTERNAL,k="Unknown error status: "+C+" with message "+E.message),g=!0,y.Ro(new O(R,k)),h.close()}else D(Me,`RPC '${t}' stream ${i} received:`,d),y.Vo(d)}}),_(a,xI.STAT_EVENT,v=>{v.stat===tm.PROXY?D(Me,`RPC '${t}' stream ${i} detected buffering proxy`):v.stat===tm.NOPROXY&&D(Me,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ao()},0),y}}function Lu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(e){return new LA(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(t,n,r=1e3,i=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(t,n,r,i,s,o,a,l){this.si=t,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new p0(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(en(n.toString()),en("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{t(()=>{const i=new O(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(t,n){const r=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return D("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SP extends TP{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=UA(this.serializer,t),r=function(s){if(!("targetChange"in s))return F.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?F.min():o.readTime?Wr(o.readTime):F.min()}(t);return this.listener.a_(n,r)}u_(t){const n={};n.database=wm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=oh(l)?{documents:zA(s,l)}:{query:BA(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=FA(s,o.resumeToken);const u=ch(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(F.min())>0){a.readTime=MA(s,o.snapshotVersion.toTimestamp());const u=ch(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=bA(this.serializer,t);r&&(n.labels=r),this.e_(n)}c_(t){const n={};n.database=wm(this.serializer),n.removeTarget=t,this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new O(A.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new O(A.UNKNOWN,i.toString())})}Co(t,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(A.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class IP{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(en(n),this.f_=!1):D("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{lo(this)&&(D("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=K(l);u.C_.add(4),await ao(u),u.M_.set("Unknown"),u.C_.delete(4),await $l(u)}(this))})}),this.M_=new IP(r,i)}}async function $l(e){if(lo(e))for(const t of e.v_)await t(!0)}async function ao(e){for(const t of e.v_)await t(!1)}function m0(e,t){const n=K(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),nd(n)?td(n):_i(n).Ho()&&ed(n,t))}function g0(e,t){const n=K(e),r=_i(n);n.D_.delete(t),r.Ho()&&y0(n,t),n.D_.size===0&&(r.Ho()?r.Zo():lo(n)&&n.M_.set("Unknown"))}function ed(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(F.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}_i(e).u_(t)}function y0(e,t){e.x_.Oe(t),_i(e).c_(t)}function td(e){e.x_=new NA({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),_i(e).start(),e.M_.g_()}function nd(e){return lo(e)&&!_i(e).jo()&&e.D_.size>0}function lo(e){return K(e).C_.size===0}function v0(e){e.x_=void 0}async function PP(e){e.D_.forEach((t,n)=>{ed(e,t)})}async function RP(e,t){v0(e),nd(e)?(e.M_.w_(t),td(e)):e.M_.set("Unknown")}async function kP(e,t,n){if(e.M_.set("Online"),t instanceof s0&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(e,t)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Im(e,r)}else if(t instanceof ta?e.x_.$e(t):t instanceof i0?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(F.min()))try{const r=await f0(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(He.EMPTY_BYTE_STRING,c.snapshotVersion)),y0(s,l);const h=new dn(c.target,l,u,c.sequenceNumber);ed(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){D("RemoteStore","Failed to raise snapshot:",r),await Im(e,r)}}async function Im(e,t,n){if(!so(t))throw t;e.C_.add(1),await ao(e),e.M_.set("Offline"),n||(n=()=>f0(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{D("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await $l(e)})}async function Am(e,t){const n=K(e);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=lo(n);n.C_.add(3),await ao(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await $l(n)}async function xP(e,t){const n=K(e);t?(n.C_.delete(2),await $l(n)):t||(n.C_.add(2),await ao(n),n.M_.set("Unknown"))}function _i(e){return e.O_||(e.O_=function(n,r,i){const s=K(n);return s.A_(),new SP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{ho:PP.bind(null,e),Io:RP.bind(null,e),a_:kP.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),nd(e)?td(e):e.M_.set("Unknown")):(await e.O_.stop(),v0(e))})),e.O_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new rd(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(A.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _0(e,t){if(en("AsyncQueue",`${t}: ${e}`),so(e))return new O(A.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t){this.comparator=t?(n,r)=>t(n,r)||L.comparator(n.key,r.key):(n,r)=>L.comparator(n.key,r.key),this.keyedMap=zi(),this.sortedSet=new fe(this.comparator)}static emptySet(t){return new qr(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof qr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new qr;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.B_=new fe(L.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):j():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class ai{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ai(t,n,qr.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.k_=void 0,this.listeners=[]}}class DP{constructor(){this.queries=new vi(t=>Q_(t),Vl),this.onlineState="Unknown",this.q_=new Set}}async function VP(e,t){const n=K(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new NP),i)try{s.k_=await n.onListen(r)}catch(o){const a=_0(o,`Initialization of query '${Er(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&id(n)}async function OP(e,t){const n=K(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function LP(e,t){const n=K(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&id(n)}function MP(e,t,n){const r=K(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function id(e){e.q_.forEach(t=>{t.next()})}class FP{constructor(t,n,r){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new ai(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=ai.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t){this.key=t}}class w0{constructor(t){this.key=t}}class $P{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=W(),this.mutatedKeys=W(),this._a=G_(t),this.aa=new qr(this._a)}get ua(){return this.ia}ca(t,n){const r=n?n.la:new Pm,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,h)=>{const f=i.get(c),g=Ol(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let v=!1;f&&g?f.data.isEqual(g.data)?y!==_&&(r.track({type:3,doc:g}),v=!0):this.ha(f,g)||(r.track({type:2,doc:g}),v=!0,(l&&this._a(g,l)>0||u&&this._a(g,u)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),v=!0):f&&!g&&(r.track({type:1,doc:f}),v=!0,(l||u)&&(a=!0)),v&&(g?(o=o.add(g),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const o=t.la.L_();o.sort((c,h)=>function(g,y){const _=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return _(g)-_(y)}(c.type,h.type)||this._a(c.doc,h.doc)),this.Pa(r),i=i!=null&&i;const a=n&&!i?this.Ia():[],l=this.oa.size===0&&this.current&&!i?1:0,u=l!==this.sa;return this.sa=l,o.length!==0||u?{snapshot:new ai(this.query,t.aa,s,o,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Pm,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=W(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return t.forEach(r=>{this.oa.has(r)||n.push(new w0(r))}),this.oa.forEach(r=>{t.has(r)||n.push(new E0(r))}),n}da(t){this.ia=t.ls,this.oa=W();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return ai.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class jP{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class UP{constructor(t){this.key=t,this.Ra=!1}}class zP{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new vi(a=>Q_(a),Vl),this.fa=new Map,this.ga=new Set,this.pa=new fe(L.comparator),this.ya=new Map,this.wa=new Yf,this.Sa={},this.ba=new Map,this.Da=oi.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function BP(e,t){const n=GP(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await mP(n.localStore,Ut(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await HP(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&m0(n.remoteStore,o)}return i}async function HP(e,t,n,r,i){e.va=(h,f,g)=>async function(_,v,p,d){let m=v.view.ca(p);m.Zi&&(m=await Tm(_.localStore,v.query,!1).then(({documents:k})=>v.view.ca(k,m)));const E=d&&d.targetChanges.get(v.targetId),C=d&&d.targetMismatches.get(v.targetId)!=null,R=v.view.applyChanges(m,_.isPrimaryClient,E,C);return km(_,v.targetId,R.Ta),R.snapshot}(e,h,f,g);const s=await Tm(e.localStore,t,!0),o=new $P(t,s.ls),a=o.ca(s.documents),l=oo.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);km(e,n,u.Ta);const c=new jP(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),u.snapshot}async function bP(e,t){const n=K(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Vl(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await fh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),g0(n.remoteStore,r.targetId),dh(n,r.targetId)}).catch(zf)):(dh(n,r.targetId),await fh(n.localStore,r.targetId,!0))}async function T0(e,t){const n=K(e);try{const r=await dP(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?ge(o.Ra):i.removedDocuments.size>0&&(ge(o.Ra),o.Ra=!1))}),await C0(n,r,t)}catch(r){await zf(r)}}function Rm(e,t,n){const r=K(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=K(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.listeners)f.Q_(a)&&(u=!0)}),u&&id(l)}(r.eventManager,t),i.length&&r.Va.a_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function WP(e,t,n){const r=K(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let o=new fe(L.comparator);o=o.insert(s,je.newNoDocument(s,F.min()));const a=W().add(s),l=new Fl(F.min(),new Map,new fe(Q),o,a);await T0(r,l),r.pa=r.pa.remove(s),r.ya.delete(t),sd(r)}else await fh(r.localStore,t,!1).then(()=>dh(r,t,n)).catch(zf)}function dh(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(r=>{e.wa.containsKey(r)||S0(e,r)})}function S0(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(g0(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),sd(e))}function km(e,t,n){for(const r of n)r instanceof E0?(e.wa.addReference(r.key,t),qP(e,r)):r instanceof w0?(D("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||S0(e,r.key)):j()}function qP(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(D("SyncEngine","New document in limbo: "+n),e.ga.add(r),sd(e))}function sd(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new L(ae.fromString(t)),r=e.Da.next();e.ya.set(r,new UP(n)),e.pa=e.pa.insert(n,r),m0(e.remoteStore,new dn(Ut(K_(n.path)),r,"TargetPurposeLimboResolution",Bf._e))}}async function C0(e,t,n){const r=K(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Zf.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=K(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>T.forEach(u,f=>T.forEach(f.ki,g=>c.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>T.forEach(f.qi,g=>c.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!so(h))throw h;D("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const g=c.ts.get(f),y=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(y);c.ts=c.ts.insert(f,_)}}}(r.localStore,s))}async function KP(e,t){const n=K(e);if(!n.currentUser.isEqual(t)){D("SyncEngine","User change. New user:",t.toKey());const r=await h0(n.localStore,t);n.currentUser=t,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new O(A.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await C0(n,r._s)}}function QP(e,t){const n=K(e),r=n.ya.get(t);if(r&&r.Ra)return W().add(r.key);{let i=W();const s=n.fa.get(t);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function GP(e){const t=K(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=T0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=WP.bind(null,t),t.Va.a_=LP.bind(null,t.eventManager),t.Va.Fa=MP.bind(null,t.eventManager),t}class xm{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=d0(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return fP(this.persistence,new cP,t.initialUser,this.serializer)}createPersistence(t){return new aP(Jf.jr,this.serializer)}createSharedClientState(t){return new yP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class XP{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Rm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KP.bind(null,this.syncEngine),await xP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new DP}()}createDatastore(t){const n=d0(t.databaseInfo.databaseId),r=function(s){return new wP(s)}(t.databaseInfo);return function(s,o,a,l){return new CP(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new AP(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Rm(this.syncEngine,n,0),function(){return Cm.D()?new Cm:new vP}())}createSyncEngine(t,n){return function(i,s,o,a,l,u,c){const h=new zP(i,s,o,a,l,u);return c&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=K(n);D("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await ao(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):en("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fe.UNAUTHENTICATED,this.clientId=zI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{D("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=_0(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Mu(e,t){e.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await h0(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Nm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await eR(e);D("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>Am(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>Am(t.remoteStore,s)),e._onlineComponents=t}function ZP(e){return e.name==="FirebaseError"?e.code===A.FAILED_PRECONDITION||e.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function eR(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mu(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!ZP(n))throw n;ni("Error using user provided cache. Falling back to memory cache: "+n),await Mu(e,new xm)}}else D("FirestoreClient","Using default OfflineComponentProvider"),await Mu(e,new xm);return e._offlineComponents}async function tR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),await Nm(e,e._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),await Nm(e,new XP))),e._onlineComponents}async function nR(e){const t=await tR(e),n=t.eventManager;return n.onListen=BP.bind(null,t.syncEngine),n.onUnlisten=bP.bind(null,t.syncEngine),n}function rR(e,t,n={}){const r=new nr;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new YP({next:f=>{o.enqueueAndForget(()=>OP(s,h)),f.fromCache&&l.source==="server"?u.reject(new O(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new FP(a,c,{includeMetadataChanges:!0,J_:!0});return VP(s,h)}(await nR(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(e,t,n){if(!n)throw new O(A.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function sR(e,t,n,r){if(t===!0&&r===!0)throw new O(A.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Vm(e){if(L.isDocumentKey(e))throw new O(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function oR(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":j()}function ph(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new O(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oR(e);throw new O(A.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new O(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new O(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}sR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I0((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new O(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new O(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new O(A.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class od{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Om({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new O(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Om(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VI;switch(r.type){case"firstParty":return new FI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Dm.get(n);r&&(D("ComponentProvider","Removing Datastore"),Dm.delete(n),r.terminate())}(this),Promise.resolve()}}function aR(e,t,n,r={}){var i;const s=(e=ph(e,od))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Fe.MOCK_USER;else{a=cS(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new O(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Fe(u)}e._authCredentials=new OI(new j_(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new jl(this.firestore,t,this._query)}}class Ei{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ei(this.firestore,t,this._key)}}class Kr extends jl{constructor(t,n,r){super(t,n,K_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ei(this.firestore,null,new L(t))}withConverter(t){return new Kr(this.firestore,t,this._path)}}function lR(e,t,...n){if(e=gS(e),iR("collection","path",t),e instanceof od){const r=ae.fromString(t,...n);return Vm(r),new Kr(e,null,r)}{if(!(e instanceof Ei||e instanceof Kr))throw new O(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ae.fromString(t,...n));return Vm(r),new Kr(e.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new p0(this,"async_queue_retry"),this.iu=()=>{const n=Lu();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=Lu();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=Lu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new nr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!so(t))throw t;D("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw en("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(t,n,r){this.su(),this.ru.indexOf(t)>-1&&(n=0);const i=rd.createAndSchedule(this,t,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&j()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class A0 extends od{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new uR}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||P0(this),this._firestoreClient.terminate()}}function cR(e,t){const n=typeof e=="object"?e:mC(),r=typeof e=="string"?e:t||"(default)",i=hC(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=lS("firestore");s&&aR(i,...s)}return i}function hR(e){return e._firestoreClient||P0(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function P0(e){var t,n,r;const i=e._freezeSettings(),s=function(a,l,u,c){return new XI(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,I0(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new JP(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ha(He.fromBase64String(t))}catch(n){throw new O(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ha(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new O(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new O(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new O(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Q(this._lat,t._lat)||Q(this._long,t._long)}}const dR=new RegExp("[~\\*/\\[\\]]");function pR(e,t,n){if(t.search(dR)>=0)throw Lm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new R0(...t.split("."))._internalPath}catch{throw Lm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Lm(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new O(A.INVALID_ARGUMENT,a+e+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ei(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(x0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mR extends k0{data(){return super.data()}}function x0(e,t){return typeof t=="string"?pR(e,t):t instanceof R0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new O(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yR{convertValue(t,n="none"){switch(fr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw j()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Nl(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new fR(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=bf(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ls(t));default:return null}}convertTimestamp(t){const n=xn(t);return new tt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ae.fromString(t);ge(c0(r));const i=new Ms(r.get(1),r.get(3)),s=new L(r.popFirst(5));return i.isEqual(n)||en(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class vR extends k0{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new na(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(x0("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class na extends vR{data(t={}){return super.data(t)}}class _R{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new $o(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new na(this._firestore,this._userDataWriter,r.key,r,new $o(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new na(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $o(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new na(i._firestore,i._userDataWriter,a.doc.key,a.doc,new $o(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:ER(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ER(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}class wR extends yR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ha(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ei(this.firestore,null,n)}}function TR(e){e=ph(e,jl);const t=ph(e.firestore,A0),n=hR(t),r=new wR(t);return gR(e._query),rR(n,e._query).then(i=>new _R(t,r,e,i))}(function(t,n=!0){(function(i){yi=i})(pC),Da(new Cs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new A0(new LI(r.getProvider("auth-internal")),new jI(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new O(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ms(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Br(nm,"4.4.0",t),Br(nm,"4.4.0","esm2017")})();const SR={apiKey:"AIzaSyDOZy1AFXgUibhFlGEdlbGVef-yaY_7jl4",authDomain:"furniture-shop-7a7c1.firebaseapp.com",projectId:"furniture-shop-7a7c1",storageBucket:"furniture-shop-7a7c1.appspot.com",messagingSenderId:"221783001736",appId:"1:221783001736:web:c9a45ad72d3c2f74672d3d"},CR=Vv(SR),IR=cR(CR);async function AR(){const e=[];return(await TR(lR(IR,"products"))).forEach(n=>{e.push({id:n.id,title:n.data().title,desc:n.data().desc,img:n.data().img,category:n.data().category,price:n.data().price})}),e}function Ae(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var PR=typeof Symbol=="function"&&Symbol.observable||"@@observable",Mm=PR,Fu=()=>Math.random().toString(36).substring(7).split("").join("."),RR={INIT:`@@redux/INIT${Fu()}`,REPLACE:`@@redux/REPLACE${Fu()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Fu()}`},ba=RR;function ad(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function N0(e,t,n){if(typeof e!="function")throw new Error(Ae(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ae(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ae(1));return n(N0)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((v,p)=>{o.set(p,v)}))}function c(){if(l)throw new Error(Ae(3));return i}function h(v){if(typeof v!="function")throw new Error(Ae(4));if(l)throw new Error(Ae(5));let p=!0;u();const d=a++;return o.set(d,v),function(){if(p){if(l)throw new Error(Ae(6));p=!1,u(),o.delete(d),s=null}}}function f(v){if(!ad(v))throw new Error(Ae(7));if(typeof v.type>"u")throw new Error(Ae(8));if(typeof v.type!="string")throw new Error(Ae(17));if(l)throw new Error(Ae(9));try{l=!0,i=r(i,v)}finally{l=!1}return(s=o).forEach(d=>{d()}),v}function g(v){if(typeof v!="function")throw new Error(Ae(10));r=v,f({type:ba.REPLACE})}function y(){const v=h;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(Ae(11));function d(){const E=p;E.next&&E.next(c())}return d(),{unsubscribe:v(d)}},[Mm](){return this}}}return f({type:ba.INIT}),{dispatch:f,subscribe:h,getState:c,replaceReducer:g,[Mm]:y}}function kR(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:ba.INIT})>"u")throw new Error(Ae(12));if(typeof n(void 0,{type:ba.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ae(13))})}function xR(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{kR(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const h=r[c],f=n[h],g=o[h],y=f(g,a);if(typeof y>"u")throw a&&a.type,new Error(Ae(14));u[h]=y,l=l||y!==g}return l=l||r.length!==Object.keys(o).length,l?u:o}}function Wa(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function NR(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Ae(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=e.map(l=>l(o));return s=Wa(...a)(i.dispatch),{...i,dispatch:s}}}function DR(e){return ad(e)&&"type"in e&&typeof e.type=="string"}var D0=Symbol.for("immer-nothing"),Fm=Symbol.for("immer-draftable"),lt=Symbol.for("immer-state");function Ct(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var li=Object.getPrototypeOf;function Dn(e){return!!e&&!!e[lt]}function tn(e){var t;return e?V0(e)||Array.isArray(e)||!!e[Fm]||!!((t=e.constructor)!=null&&t[Fm])||zl(e)||Bl(e):!1}var VR=Object.prototype.constructor.toString();function V0(e){if(!e||typeof e!="object")return!1;const t=li(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===VR}function $s(e,t){Ul(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function Ul(e){const t=e[lt];return t?t.type_:Array.isArray(e)?1:zl(e)?2:Bl(e)?3:0}function mh(e,t){return Ul(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function O0(e,t,n){const r=Ul(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function OR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function zl(e){return e instanceof Map}function Bl(e){return e instanceof Set}function qn(e){return e.copy_||e.base_}function gh(e,t){if(zl(e))return new Map(e);if(Bl(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&V0(e))return li(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[lt];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const s=r[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(li(e),n)}function ld(e,t=!1){return Hl(e)||Dn(e)||!tn(e)||(Ul(e)>1&&(e.set=e.add=e.clear=e.delete=LR),Object.freeze(e),t&&$s(e,(n,r)=>ld(r,!0))),e}function LR(){Ct(2)}function Hl(e){return Object.isFrozen(e)}var MR={};function dr(e){const t=MR[e];return t||Ct(0,e),t}var js;function L0(){return js}function FR(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $m(e,t){t&&(dr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yh(e){vh(e),e.drafts_.forEach($R),e.drafts_=null}function vh(e){e===js&&(js=e.parent_)}function jm(e){return js=FR(js,e)}function $R(e){const t=e[lt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Um(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[lt].modified_&&(yh(t),Ct(4)),tn(e)&&(e=qa(t,e),t.parent_||Ka(t,e)),t.patches_&&dr("Patches").generateReplacementPatches_(n[lt].base_,e,t.patches_,t.inversePatches_)):e=qa(t,n,[]),yh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==D0?e:void 0}function qa(e,t,n){if(Hl(t))return t;const r=t[lt];if(!r)return $s(t,(i,s)=>zm(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Ka(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),$s(s,(a,l)=>zm(e,r,i,a,l,n,o)),Ka(e,i,!1),n&&e.patches_&&dr("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function zm(e,t,n,r,i,s,o){if(Dn(i)){const a=s&&t&&t.type_!==3&&!mh(t.assigned_,r)?s.concat(r):void 0,l=qa(e,i,a);if(O0(n,r,l),Dn(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(tn(i)&&!Hl(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;qa(e,i),(!t||!t.scope_.parent_)&&Ka(e,i)}}function Ka(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ld(t,n)}function jR(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:L0(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=ud;n&&(i=[r],s=Us);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var ud={get(e,t){if(t===lt)return e;const n=qn(e);if(!mh(n,t))return UR(e,n,t);const r=n[t];return e.finalized_||!tn(r)?r:r===$u(e.base_,t)?(ju(e),e.copy_[t]=Eh(r,e)):r},has(e,t){return t in qn(e)},ownKeys(e){return Reflect.ownKeys(qn(e))},set(e,t,n){const r=M0(qn(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=$u(qn(e),t),s=i==null?void 0:i[lt];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(OR(n,i)&&(n!==void 0||mh(e.base_,t)))return!0;ju(e),_h(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return $u(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ju(e),_h(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=qn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ct(11)},getPrototypeOf(e){return li(e.base_)},setPrototypeOf(){Ct(12)}},Us={};$s(ud,(e,t)=>{Us[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Us.deleteProperty=function(e,t){return Us.set.call(this,e,t,void 0)};Us.set=function(e,t,n){return ud.set.call(this,e[0],t,n,e[0])};function $u(e,t){const n=e[lt];return(n?qn(n):e)[t]}function UR(e,t,n){var i;const r=M0(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function M0(e,t){if(!(t in e))return;let n=li(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=li(n)}}function _h(e){e.modified_||(e.modified_=!0,e.parent_&&_h(e.parent_))}function ju(e){e.copy_||(e.copy_=gh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var zR=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(l=s,...u){return o.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Ct(6),r!==void 0&&typeof r!="function"&&Ct(7);let i;if(tn(t)){const s=jm(this),o=Eh(t,void 0);let a=!0;try{i=n(o),a=!1}finally{a?yh(s):vh(s)}return $m(s,r),Um(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===D0&&(i=void 0),this.autoFreeze_&&ld(i,!0),r){const s=[],o=[];dr("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else Ct(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,l=>t(l,...a));let r,i;return[this.produce(t,n,(o,a)=>{r=o,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){tn(e)||Ct(8),Dn(e)&&(e=F0(e));const t=jm(this),n=Eh(e,void 0);return n[lt].isManual_=!0,vh(t),n}finishDraft(e,t){const n=e&&e[lt];(!n||!n.isManual_)&&Ct(9);const{scope_:r}=n;return $m(r,t),Um(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=dr("Patches").applyPatches_;return Dn(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Eh(e,t){const n=zl(e)?dr("MapSet").proxyMap_(e,t):Bl(e)?dr("MapSet").proxySet_(e,t):jR(e,t);return(t?t.scope_:L0()).drafts_.push(n),n}function F0(e){return Dn(e)||Ct(10,e),$0(e)}function $0(e){if(!tn(e)||Hl(e))return e;const t=e[lt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=gh(e,t.scope_.immer_.useStrictShallowCopy_)}else n=gh(e,!0);return $s(n,(r,i)=>{O0(n,r,$0(i))}),t&&(t.finalized_=!1),n}var ut=new zR,j0=ut.produce;ut.produceWithPatches.bind(ut);ut.setAutoFreeze.bind(ut);ut.setUseStrictShallowCopy.bind(ut);ut.applyPatches.bind(ut);ut.createDraft.bind(ut);ut.finishDraft.bind(ut);function BR(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function HR(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function bR(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Bm=e=>Array.isArray(e)?e:[e];function WR(e){const t=Array.isArray(e[0])?e[0]:e;return bR(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function qR(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var KR=class{constructor(e){this.value=e}deref(){return this.value}},QR=typeof WeakRef<"u"?WeakRef:KR,GR=0,Hm=1;function jo(){return{s:GR,v:void 0,o:null,p:null}}function cd(e,t={}){let n=jo();const{resultEqualityCheck:r}=t;let i,s=0;function o(){var h;let a=n;const{length:l}=arguments;for(let f=0,g=l;f<g;f++){const y=arguments[f];if(typeof y=="function"||typeof y=="object"&&y!==null){let _=a.o;_===null&&(a.o=_=new WeakMap);const v=_.get(y);v===void 0?(a=jo(),_.set(y,a)):a=v}else{let _=a.p;_===null&&(a.p=_=new Map);const v=_.get(y);v===void 0?(a=jo(),_.set(y,a)):a=v}}const u=a;let c;if(a.s===Hm?c=a.v:(c=e.apply(null,arguments),s++),u.s=Hm,r){const f=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;f!=null&&r(f,c)&&(c=f,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new QR(c):c}return u.v=c,c}return o.clearCache=()=>{n=jo(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function U0(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),BR(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:h,memoizeOptions:f=[],argsMemoize:g=cd,argsMemoizeOptions:y=[],devModeChecks:_={}}=c,v=Bm(f),p=Bm(y),d=WR(i),m=h(function(){return s++,u.apply(null,arguments)},...v),E=g(function(){o++;const R=qR(d,arguments);return a=m.apply(null,R),a},...p);return Object.assign(E,{resultFunc:u,memoizedResultFunc:m,dependencies:d,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var XR=U0(cd),YR=Object.assign((e,t=XR)=>{HR(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,a,l)=>(o[n[l]]=a,o),{}))},{withTypes:()=>YR});function z0(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var JR=z0(),ZR=z0,ek=(...e)=>{const t=U0(...e);return(...n)=>{const r=t(...n),i=(s,...o)=>r(Dn(s)?F0(s):s,...o);return Object.assign(i,r),i}};ek(cd);var tk=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wa:Wa.apply(null,arguments)};function zs(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Pt(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>DR(r)&&r.type===e,n}var B0=class Hi extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Hi.prototype)}static get[Symbol.species](){return Hi}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Hi(...t[0].concat(this)):new Hi(...t.concat(this))}};function bm(e){return tn(e)?j0(e,()=>{}):e}function Wm(e,t,n){if(e.has(t)){let i=e.get(t);return n.update&&(i=n.update(i,t,e),e.set(t,i)),i}if(!n.insert)throw new Error(Pt(10));const r=n.insert(t,e);return e.set(t,r),r}function nk(e){return typeof e=="boolean"}var rk=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new B0;return n&&(nk(n)?o.push(JR):o.push(ZR(n.extraArgument))),o},ik="RTK_autoBatch",H0=e=>t=>{setTimeout(t,e)},sk=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:H0(10),ok=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?sk:e.type==="callback"?e.queueNotification:H0(e.timeout),u=()=>{o=!1,s&&(s=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const h=()=>i&&c(),f=r.subscribe(h);return a.add(c),()=>{f(),a.delete(c)}},dispatch(c){var h;try{return i=!((h=c==null?void 0:c.meta)!=null&&h[ik]),s=!i,s&&(o||(o=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},ak=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new B0(e);return r&&i.push(ok(typeof r=="object"?r:void 0)),i},lk=!0;function uk(e){const t=rk(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(ad(n))a=xR(n);else throw new Error(Pt(1));let l;typeof r=="function"?l=r(t):l=t();let u=Wa;i&&(u=tk({trace:!lk,...typeof i=="object"&&i}));const c=NR(...l),h=ak(c);let f=typeof o=="function"?o(h):h();const g=u(...f);return N0(a,s,g)}function b0(e){const t={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Pt(28));if(a in t)throw new Error(Pt(29));return t[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function ck(e){return typeof e=="function"}function hk(e,t){let[n,r,i]=b0(t),s;if(ck(e))s=()=>bm(e());else{const a=bm(e);s=()=>a}function o(a=s(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,h)=>{if(h)if(Dn(c)){const g=h(c,l);return g===void 0?c:g}else{if(tn(c))return j0(c,f=>h(f,l));{const f=h(c,l);if(f===void 0){if(c===null)return c;throw new Error(Pt(9))}return f}}return c},a)}return o.getInitialState=s,o}var fk=Symbol.for("rtk-slice-createasyncthunk");function dk(e,t){return`${e}/${t}`}function pk({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[fk];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Pt(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(gk()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(v,p){const d=typeof v=="string"?v:v.type;if(!d)throw new Error(Pt(12));if(d in u.sliceCaseReducersByType)throw new Error(Pt(13));return u.sliceCaseReducersByType[d]=p,c},addMatcher(v,p){return u.sliceMatchers.push({matcher:v,reducer:p}),c},exposeAction(v,p){return u.actionCreators[v]=p,c},exposeCaseReducer(v,p){return u.sliceCaseReducersByName[v]=p,c}};l.forEach(v=>{const p=a[v],d={reducerName:v,type:dk(s,v),createNotation:typeof i.reducers=="function"};vk(p)?Ek(d,p,c,t):yk(d,p,c)});function h(){const[v={},p=[],d=void 0]=typeof i.extraReducers=="function"?b0(i.extraReducers):[i.extraReducers],m={...v,...u.sliceCaseReducersByType};return hk(i.initialState,E=>{for(let C in m)E.addCase(C,m[C]);for(let C of u.sliceMatchers)E.addMatcher(C.matcher,C.reducer);for(let C of p)E.addMatcher(C.matcher,C.reducer);d&&E.addDefaultCase(d)})}const f=v=>v,g=new WeakMap;let y;const _={name:s,reducerPath:o,reducer(v,p){return y||(y=h()),y(v,p)},actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState(){return y||(y=h()),y.getInitialState()},getSelectors(v=f){const p=Wm(g,this,{insert:()=>new WeakMap});return Wm(p,v,{insert:()=>{const d={};for(const[m,E]of Object.entries(i.selectors??{}))d[m]=mk(this,E,v,this!==_);return d}})},selectSlice(v){let p=v[this.reducerPath];return typeof p>"u"&&this!==_&&(p=this.getInitialState()),p},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(v,{reducerPath:p,...d}={}){const m=p??this.reducerPath;return v.inject({reducerPath:m,reducer:this.reducer},d),{...this,reducerPath:m}}};return _}}function mk(e,t,n,r){function i(s,...o){let a=n.call(e,s);return typeof a>"u"&&r&&(a=e.getInitialState()),t(a,...o)}return i.unwrapped=t,i}var hd=pk();function gk(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function yk({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!_k(r))throw new Error(Pt(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?zs(e,o):zs(e))}function vk(e){return e._reducerDefinitionType==="asyncThunk"}function _k(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Ek({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Pt(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:u,options:c}=n,h=i(e,s,c);r.exposeAction(t,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(t,{fulfilled:o||Uo,pending:a||Uo,rejected:l||Uo,settled:u||Uo})}function Uo(){}var fd="listenerMiddleware";zs(`${fd}/add`);zs(`${fd}/removeAll`);zs(`${fd}/remove`);function Pt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const wk={items:[]},W0=hd({name:"products",initialState:wk,reducers:{setProducts(e,t){e.items=t.payload}}}),{setProducts:Tk}=W0.actions,Sk=W0.reducer;function Ck(e){let t=!1;return document.querySelectorAll(e).forEach(r=>{r.value?r.classList.remove("red-border"):(r.classList.add("red-border"),t=!0)}),t}function ui(e){const t=document.getElementById(e);document.body.classList.toggle("fixe-scroll"),t==null||t.classList.toggle("popup_active")}function Ik(e,t,n){return e?t.name?n.length==0?(alert("Пустой заказ!"),!1):!0:(alert("Заполните данные для связи"),!1):(alert("Выберите тип оплаты"),!1)}function Ak(e){let t="";return document.querySelectorAll(e).forEach(r=>{r.checked&&(t=r.value)}),t}function Pk(e){return e?e!="card"&&e!="cash"?(alert("Неверный тип оплаты!"),!1):!0:(alert("Вы не выбрали способ оплаты"),!1)}function qm(e){let t=0;return e.forEach(n=>{t+=n.price*n.amount}),Number(t.toFixed(2))}const Rk={items:[],cartCost:0},q0=hd({name:"cart",initialState:Rk,reducers:{addProductToCard(e,t){const n=t.payload,r=e.items.find(i=>i.id==n.id);r?r.amount+=1:e.items.push({...n,amount:1}),e.cartCost=qm(e.items)},deleteProductFromCart(e,t){e.items=e.items.filter(n=>n.id!=t.payload),e.cartCost=qm(e.items)}}}),{addProductToCard:kk,deleteProductFromCart:xk}=q0.actions,Nk=q0.reducer,Dk={paytype:"",address:{name:"",phone:"",email:"",address:""},order:[]},K0=hd({name:"order",initialState:Dk,reducers:{setNewAddress(e,t){e.address=t.payload},setPaytype(e,t){e.paytype=t.payload},setOrder(e,t){e.order=t.payload}}}),{setNewAddress:Vk,setPaytype:Ok,setOrder:Lk}=K0.actions,Mk=K0.reducer,Fk=uk({reducer:{products:Sk,cart:Nk,order:Mk}}),wi=e=>w.jsx("button",{onClick:e.handleClick,className:"button",children:e.title}),$k=e=>{const{title:t,img:n,desc:r,price:i}={...e},s=di();return w.jsxs("div",{className:"product",children:[w.jsx("img",{className:"product__image",src:`./img/products/${n}`,alt:t}),w.jsxs("div",{className:"product__text-wrapper",children:[w.jsx("h3",{className:"product__title",children:t}),w.jsx("p",{className:"product__desc",children:r}),w.jsxs("div",{className:"product__price-wrapper",children:[w.jsx(wi,{handleClick:()=>s(kk(e)),title:"Add to Cart"}),w.jsxs("p",{className:"product__price",children:[i," $"]})]})]})]})},jk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFzUlEQVR4nO2da4hVVRSAPydNTQ1ngswircjeWlQ/wiwrexc9LCIhNSwR6lckEaRCTpNFZpAFRY1ZqVE/osevICikMqKwB2Fko6GVVjTl9PYZy9bAbbXP3Hvnnrn7PNYH5+fdZ+297tl7PfZeGxzHcRynuAwBJgGzgfuB54C1wJfAdqAb2A38BfwEdAGfAO8Cq4AFwA3AqcCw2J3JIwcCU4H7gHU60PtSeqStt4FFwBRVthNgMHCZ/vt7UlRAtUfe9SwwDWhxzcAROg390EQl7Et4tgJLgHFlVMzJwGpgZx2D9SqwGJgDXAicAIwFWvULGwq0AccAE3XamwssBV4HNtX4rr+BTmACJeBonSL2VBmUbcBKYAYwJsX3HwnM0ra3VpFBDIU1KnPhEOumXf99SQPwM/AUcC4wqAkytehXJF/Djj7k+gNYqF9gIbhATdSkDm/QqWVYRBmHq1n9eR9ySh8uIufmq8zfexM6KL7CVRmzblqA6cBHCTJLX5Zp33LFscCHCZ3aAtycMUWEuBH4NqEP7wNHkRPOV4/ZdkIW8uXASPLDKP0idgX6062+U6a5JcGU7VLPOK+cDmwM9Ev6OpOMMj/h835FfYW8M0rN4NC6chcZY0HCFHVnk0zYZnJbwhTWQUa4OyDcn8B1FJcrgd8D/ZY/YFRmBsxacbLOpvhMDhgve2OuKdMCnnePCloWJgaUsjOG9SUR0R+NIPIJn0P5mByYvrqb6acM0Wyc/VTFkSorVwQW+g+a5dEvCyxm9zTjxTmwvuy4PNyMz9OGzl8uoGnbX14MzBwDFpAcGoiGSk7hkIF6YQ6RsNAXZow2DlQke1HA8ZPchfNfzgisJ+I4p8rhwG/mJU+k/ZIC8UggySWp5dToNC/4XvPXTpiDge/MmMkeglSYoPnlysZvTavxAjPDjNnutDZOPBlIZcouD6c6Nkn3NA0yRgOFlY2W2QGsl+sDYZXxNEC7afCrHKRes0RLwFV4oJHGtpjG7khX3lIwK+C79etPfXEgeFiEzF+zEafwFzOWsvOyblaaRlakL2tp6DRjKbs36+KAQHhddpM4/eM8M5a/1hsJnmIakCSMm7r9R9aMb8yY1pU7utf8+PkGhHHCS4DEBmtmofnxNfX82KnJ2pKTXDUzGnhDrQMJIrrvkc5RCHu8TjZ5OxHpMko5LaYwDvtPclUqRE4HOxFZahQia7UTkblGIXKO3onIVKMQ2U7lROQUo5DPYgrjsD8XUqmQr2sZlEPVGlilGnXSozUQkqpK5YFHcQ6ddLfh2gxiVeyO9tydOM2Rc1jTlGV3ch808DKWiks1ayjR38tr+YEtBHPYwMvo9MUGoxApFONE5B2jECmN4URktVGInD13ItKe1eO+ZcVmtl6LLVDZmRTY2OVE9ibtfl5JPzoRWWsUclNMYZz/bwPyPb0ZqHzzcUW8JU81rgpLm4bf/ZSt4ziO4zjOQDNID/M4GWC25oPX6201TmQ2V3ju27V8hBPxJKktPiMFVpyILA6UZypjjcXMMCJw4ESKc/nUFfl4r63TK2XtnIgsNwrx8HwGFvj1gVpQmb+6ocgcp3dGVSpFrLCzYgtWZi4JFHvs1uvsysI4tT5vz0qli1Dx4LL4J2eaejAPkRFs1QfJxxedEwNX7b1HhpijFwl3ahWIorPCLc1s8aBvt80Wo3U2WKdbb3NLYa4vLQKPqQO5SS+W9ERXhjZw9x6an57B0k/DKQHH93EnrlTKnqfR5JhKkDokn+pR5TVliGLPD+yqr3x2AI83ucj/eF2cbRlXea6mJKGGlVUuuH+rSbKM1UrdSXJcS4k4CXgm4cL7njrPsrRWrEMj67h+yZZu7X12lSTakHhRTIe5JvvRGn/bofeY2AHdXOPlKW26WaP3d3LfxxI/nPQvg7VW8JR+VtWxz5s1tjNC70KRsupuhjd4w+bOPhTyQiONO/1jHrBNczB7Ku56eqnROzocx3EchxzyD5/K72x4RSXqAAAAAElFTkSuQmCC",Uk=()=>w.jsx("div",{className:"loader",children:w.jsx("img",{className:"loader__spinner",src:jk,alt:""})}),zk=()=>{const[e,t]=I.useState({isLoading:!1,isLoadingSuccess:!1,isLoadingError:!1}),n=di();I.useEffect(()=>{t({...e,isLoading:!0,isLoadingError:!1,isLoadingSuccess:!1}),AR().then(i=>{n(Tk(i)),t({...e,isLoadingSuccess:!0,isLoading:!1})}).catch(()=>{console.log("error loading"),t({...e,isLoadingError:!0,isLoading:!1})})},[]);const r=Qs(i=>i.products.items);return w.jsxs("main",{className:"products",children:[w.jsx("div",{className:"products__banner"}),e.isLoading&&w.jsx(Uk,{}),e.isLoadingError&&w.jsx("p",{children:"Loading error. Try again later!"}),e.isLoadingSuccess&&w.jsx("div",{className:"products__list",children:r.map(i=>w.jsx($k,{id:i.id,title:i.title,img:i.img,desc:i.desc,category:i.category,price:i.price},i.id))})]})},Bk=()=>w.jsxs("div",{className:"about",children:["About us",w.jsx("p",{children:"Hello"})]}),Q0=()=>Qs(e=>e.cart.items),G0=()=>Qs(e=>e.cart.cartCost),X0=()=>Qs(e=>e.order.address),Y0=()=>Qs(e=>e.order.paytype),Hk=()=>{const e=X0();return w.jsxs("div",{className:"address",children:[w.jsx("h2",{className:"address__title",children:"Заполните данные для заказа"}),e.name?w.jsxs("div",{className:"address__data",children:[w.jsxs("p",{children:["Name: ",e.name]}),w.jsxs("p",{children:["Phone: ",e.phone]}),w.jsxs("p",{children:["Email: ",e.email]}),w.jsxs("p",{children:["Address: ",e.address]})]}):w.jsx("p",{children:"Адресс не указан"}),w.jsx(wi,{title:"Изменить",handleClick:()=>ui("addressPopup")})]})},bk=()=>{const e=Y0();return w.jsxs("div",{className:"paytype",children:[w.jsx("h2",{className:"paytype__title",children:"Способ оплаты: "}),w.jsx("p",{children:e?e=="card"?"Оплата картой при получении":"Оплата наличными при получении":"Способ оплаты не выбран"}),w.jsx(wi,{title:"Изменить",handleClick:()=>ui("paytypePopup")})]})},Wk=()=>{const e=di(),t=Q0(),n=G0(),r=Y0(),i=X0(),s=Ev();function o(){Ik(r,i,t)&&(e(Lk(t)),alert("Спасибо за заказ! С вами свяжутся в ближайшее время."),s("/"))}return w.jsxs("div",{className:"take-order",children:[w.jsx("h1",{className:"take-order__title",children:"Сделать заказ"}),w.jsx(Hk,{}),w.jsx(bk,{}),w.jsxs("p",{className:"take-order__cost",children:["Стоимость заказа: ",n]}),w.jsx(wi,{title:"Сделать заказ",handleClick:o}),w.jsx("h2",{className:"order__title",children:"Заказ: "}),w.jsx("ul",{className:"order",children:t.map(a=>w.jsxs("li",{className:"order__item",children:[w.jsx("img",{className:"order__image",src:`./img/products/${a.img}`,alt:""}),w.jsxs("div",{className:"order__text-wrapper",children:[w.jsx("h3",{className:"order__subtitle",children:a.title}),w.jsx("p",{className:"order__desc",children:a.desc}),w.jsxs("p",{className:"order__price-wrapper",children:[w.jsxs("span",{className:"order__price",children:[a.price," "]}),"x",w.jsxs("span",{className:"order__amount",children:[" ",a.amount]})]})]})]},a.id))})]})},qk=()=>w.jsx("div",{className:"feedback",children:"FeedbackPage"}),Kk=()=>w.jsx("div",{className:"account",children:"Данный блок находится в разработки"});var J0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Km=Ft.createContext&&Ft.createContext(J0),In=function(){return In=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},In.apply(this,arguments)},Qk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Z0(e){return e&&e.map(function(t,n){return Ft.createElement(t.tag,In({key:n},t.attr),Z0(t.child))})}function Gk(e){return function(t){return Ft.createElement(Xk,In({attr:In({},e.attr)},t),Z0(e.child))}}function Xk(e){var t=function(n){var r=e.attr,i=e.size,s=e.title,o=Qk(e,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Ft.createElement("svg",In({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:In(In({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Ft.createElement("title",null,s),e.children)};return Km!==void 0?Ft.createElement(Km.Consumer,null,function(n){return t(n)}):t(J0)}function Yk(e){return Gk({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M253.3 35.1c6.1-11.8 1.5-26.3-10.2-32.4s-26.3-1.5-32.4 10.2L117.6 192H32c-17.7 0-32 14.3-32 32s14.3 32 32 32L83.9 463.5C91 492 116.6 512 146 512H430c29.4 0 55-20 62.1-48.5L544 256c17.7 0 32-14.3 32-32s-14.3-32-32-32H458.4L365.3 12.9C359.2 1.2 344.7-3.4 332.9 2.7s-16.3 20.6-10.2 32.4L404.3 192H171.7L253.3 35.1zM192 304v96c0 8.8-7.2 16-16 16s-16-7.2-16-16V304c0-8.8 7.2-16 16-16s16 7.2 16 16zm96-16c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16s-16-7.2-16-16V304c0-8.8 7.2-16 16-16zm128 16v96c0 8.8-7.2 16-16 16s-16-7.2-16-16V304c0-8.8 7.2-16 16-16s16 7.2 16 16z"}}]})(e)}const zo=({isActive:e})=>e?"menu__item menu__item_active":"menu__item",Jk=()=>{function e(){const t=document.getElementById("cart");t==null||t.classList.toggle("popup_active")}return w.jsxs("nav",{className:"menu",children:[w.jsx(ko,{className:zo,to:"/",children:"Продукты"}),w.jsx(ko,{className:zo,to:"/about",children:"Про нас"}),w.jsx(ko,{className:zo,to:"/feedback",children:"Контакты"}),w.jsx(ko,{className:zo,to:"/account",children:"Кабинет"}),w.jsx(Yk,{onClick:e,className:"menu__item menu__item_cart"})]})},Zk=()=>{const e=Q0(),t=G0(),n=di();function r(){const i=document.getElementById("cart");i==null||i.classList.remove("popup_active")}return w.jsx("div",{id:"cart",className:"cart",children:e.length==0?w.jsx("p",{className:"cart__title",children:"Корзина пуста"}):w.jsxs(w.Fragment,{children:[w.jsx("h2",{className:"cart__title",children:"Корзина"}),w.jsx("ul",{className:"cart__list",children:e.map(i=>w.jsxs("li",{className:"cart__item item-cart",children:[w.jsx("img",{className:"item-cart__image",src:`./img/products/${i.img}`,alt:""}),w.jsxs("div",{className:"item-cart__text-wrapper",children:[w.jsx("h3",{className:"item-cart__title",children:i.title}),w.jsxs("p",{className:"item-cart__price-wrapper",children:[w.jsxs("span",{className:"item-cart__price",children:[i.price,"$"," "]}),"x",w.jsxs("span",{className:"item-cart__amount",children:[" ",i.amount]})]}),w.jsx("button",{className:"item-cart__delete-item",onClick:()=>n(xk(i.id)),children:"X"})]})]},i.id))}),w.jsxs("p",{className:"cart__cost",children:["Стоимость корзины: ",t]}),w.jsx(Cv,{onClick:r,className:"cart__go-take-order",to:"/takeorder",children:"Сделать заказ"})]})})},ex=()=>w.jsxs("header",{className:"header",children:[w.jsxs("div",{className:"header__logo-wrapper",children:[w.jsx("span",{className:"header__logo",children:" House Staff"}),w.jsx(Jk,{})]}),w.jsx(Zk,{})]}),tx=()=>w.jsx("footer",{className:"footer",children:"Все права защищены ©"}),nx=()=>w.jsxs(w.Fragment,{children:[w.jsx(ex,{}),w.jsx($T,{}),w.jsx(tx,{})]}),rx=()=>{const e=di(),[t,n]=I.useState({name:"",phone:"",email:"",address:""});function r(s){n({...t,[s.target.name]:s.target.value})}function i(){Ck(".popup__input")||(e(Vk(t)),ui("addressPopup"))}return w.jsx("div",{id:"addressPopup",className:"address-popup popup",children:w.jsxs("div",{className:"popup__content",children:[w.jsx("button",{className:"popup__close-btn",onClick:()=>ui("addressPopup"),children:"X"}),w.jsx("input",{className:"popup__input",value:t.name,onChange:r,name:"name",type:"text",placeholder:"Name"}),w.jsx("input",{className:"popup__input",value:t.phone,onChange:r,name:"phone",type:"tel",placeholder:"phone"}),w.jsx("input",{className:"popup__input",value:t.email,onChange:r,name:"email",type:"email",placeholder:"mail"}),w.jsx("input",{className:"popup__input",value:t.address,onChange:r,name:"address",type:"address",placeholder:"Address"}),w.jsx(wi,{title:"Сохранить",handleClick:i})]})})},ix=()=>{const e=di();function t(){const n=Ak(".paytype__input");Pk(n)&&(e(Ok(n)),ui("paytypePopup"))}return w.jsx("div",{id:"paytypePopup",className:"paytype-popup popup",children:w.jsxs("div",{className:"popup__content",children:[w.jsx("button",{className:"popup__close-btn",onClick:()=>ui("paytypePopup"),children:"X"}),w.jsx("h2",{children:"Выберите тип оплаты"}),w.jsxs("label",{className:"popup__label",htmlFor:"paytypeCard",children:[w.jsx("input",{className:"paytype__input",type:"radio",id:"paytypeCard",value:"card",name:"paytype"}),"Картой"]}),w.jsxs("label",{className:"popup__label",htmlFor:"paytypeCash",children:[w.jsx("input",{className:"paytype__input",type:"radio",value:"cash",id:"paytypeCash",name:"paytype"}),"Наличными"]}),w.jsx(wi,{title:"Сохранить",handleClick:t})]})})},sx=()=>w.jsxs("div",{className:"app",children:[w.jsx("div",{className:"container",children:w.jsx(UT,{children:w.jsxs(bn,{path:"/",element:w.jsx(nx,{}),children:[w.jsx(bn,{index:!0,element:w.jsx(zk,{})}),w.jsx(bn,{path:"/about",element:w.jsx(Bk,{})}),w.jsx(bn,{path:"/feedback",element:w.jsx(qk,{})}),w.jsx(bn,{path:"/account",element:w.jsx(Kk,{})}),w.jsx(bn,{path:"/takeorder",element:w.jsx(Wk,{})})]})})}),w.jsx(rx,{}),w.jsx(ix,{})]});zu.createRoot(document.getElementById("root")).render(w.jsx(Ft.StrictMode,{children:w.jsx(KT,{children:w.jsx(Kw,{store:Fk,children:w.jsx(sx,{})})})}));
